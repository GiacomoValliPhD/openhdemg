<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>openhdemg.library package &mdash; openhdemg 0.1.0-beta documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="openhdemg package" href="openhdemg.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            openhdemg
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">openhdemg</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="openhdemg.html">openhdemg package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="openhdemg.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">openhdemg.library package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="openhdemg.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="openhdemg.html#module-openhdemg.openhdemg_gui">openhdemg.openhdemg_gui module</a></li>
<li class="toctree-l3"><a class="reference internal" href="openhdemg.html#openhdemg-prove-module">openhdemg.prove module</a></li>
<li class="toctree-l3"><a class="reference internal" href="openhdemg.html#module-openhdemg.prove_storage">openhdemg.prove_storage module</a></li>
<li class="toctree-l3"><a class="reference internal" href="openhdemg.html#module-openhdemg">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="openhdemg.html">openhdemg package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="openhdemg.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">openhdemg.library package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-openhdemg.library.analysis">openhdemg.library.analysis module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-openhdemg.library.info">openhdemg.library.info module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-openhdemg.library.mathtools">openhdemg.library.mathtools module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-openhdemg.library.muap">openhdemg.library.muap module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-openhdemg.library.openfiles">openhdemg.library.openfiles module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-openhdemg.library.otbelectrodes">openhdemg.library.otbelectrodes module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-openhdemg.library.plotemg">openhdemg.library.plotemg module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-openhdemg.library.tools">openhdemg.library.tools module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-openhdemg.library">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="openhdemg.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="openhdemg.html#module-openhdemg.openhdemg_gui">openhdemg.openhdemg_gui module</a></li>
<li class="toctree-l2"><a class="reference internal" href="openhdemg.html#openhdemg-prove-module">openhdemg.prove module</a></li>
<li class="toctree-l2"><a class="reference internal" href="openhdemg.html#module-openhdemg.prove_storage">openhdemg.prove_storage module</a></li>
<li class="toctree-l2"><a class="reference internal" href="openhdemg.html#module-openhdemg">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">openhdemg.library package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-openhdemg.library.analysis">openhdemg.library.analysis module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.analysis.compute_thresholds"><code class="docutils literal notranslate"><span class="pre">compute_thresholds()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.analysis.compute_dr"><code class="docutils literal notranslate"><span class="pre">compute_dr()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.analysis.basic_mus_properties"><code class="docutils literal notranslate"><span class="pre">basic_mus_properties()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.analysis.compute_covisi"><code class="docutils literal notranslate"><span class="pre">compute_covisi()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.analysis.compute_drvariability"><code class="docutils literal notranslate"><span class="pre">compute_drvariability()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-openhdemg.library.info">openhdemg.library.info module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.info.info"><code class="docutils literal notranslate"><span class="pre">info</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#openhdemg.library.info.info.data"><code class="docutils literal notranslate"><span class="pre">info.data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#openhdemg.library.info.info.abbreviations"><code class="docutils literal notranslate"><span class="pre">info.abbreviations()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#openhdemg.library.info.info.aboutus"><code class="docutils literal notranslate"><span class="pre">info.aboutus()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#openhdemg.library.info.info.contacts"><code class="docutils literal notranslate"><span class="pre">info.contacts()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#openhdemg.library.info.info.links"><code class="docutils literal notranslate"><span class="pre">info.links()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#openhdemg.library.info.info.citeus"><code class="docutils literal notranslate"><span class="pre">info.citeus()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id0"><code class="docutils literal notranslate"><span class="pre">info.data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id1"><code class="docutils literal notranslate"><span class="pre">info.abbreviations()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2"><code class="docutils literal notranslate"><span class="pre">info.aboutus()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3"><code class="docutils literal notranslate"><span class="pre">info.contacts()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4"><code class="docutils literal notranslate"><span class="pre">info.links()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5"><code class="docutils literal notranslate"><span class="pre">info.citeus()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-openhdemg.library.mathtools">openhdemg.library.mathtools module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.mathtools.min_max_scaling"><code class="docutils literal notranslate"><span class="pre">min_max_scaling()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.mathtools.norm_xcorr"><code class="docutils literal notranslate"><span class="pre">norm_xcorr()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.mathtools.norm_twod_xcorr"><code class="docutils literal notranslate"><span class="pre">norm_twod_xcorr()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.mathtools.compute_sil"><code class="docutils literal notranslate"><span class="pre">compute_sil()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.mathtools.compute_pnr"><code class="docutils literal notranslate"><span class="pre">compute_pnr()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.mathtools.derivatives_beamforming"><code class="docutils literal notranslate"><span class="pre">derivatives_beamforming()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.mathtools.mle_cv_est"><code class="docutils literal notranslate"><span class="pre">mle_cv_est()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.mathtools.find_teta"><code class="docutils literal notranslate"><span class="pre">find_teta()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-openhdemg.library.muap">openhdemg.library.muap module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.muap.diff"><code class="docutils literal notranslate"><span class="pre">diff()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.muap.double_diff"><code class="docutils literal notranslate"><span class="pre">double_diff()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.muap.sta"><code class="docutils literal notranslate"><span class="pre">sta()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.muap.st_muap"><code class="docutils literal notranslate"><span class="pre">st_muap()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.muap.unpack_sta"><code class="docutils literal notranslate"><span class="pre">unpack_sta()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.muap.pack_sta"><code class="docutils literal notranslate"><span class="pre">pack_sta()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.muap.align_by_xcorr"><code class="docutils literal notranslate"><span class="pre">align_by_xcorr()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.muap.tracking"><code class="docutils literal notranslate"><span class="pre">tracking()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.muap.remove_duplicates_between"><code class="docutils literal notranslate"><span class="pre">remove_duplicates_between()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.muap.xcc_sta"><code class="docutils literal notranslate"><span class="pre">xcc_sta()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.muap.MUcv_gui"><code class="docutils literal notranslate"><span class="pre">MUcv_gui</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#openhdemg.library.muap.MUcv_gui.gui_plot"><code class="docutils literal notranslate"><span class="pre">MUcv_gui.gui_plot()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#openhdemg.library.muap.MUcv_gui.copy_to_clipboard"><code class="docutils literal notranslate"><span class="pre">MUcv_gui.copy_to_clipboard()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#openhdemg.library.muap.MUcv_gui.compute_cv"><code class="docutils literal notranslate"><span class="pre">MUcv_gui.compute_cv()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-openhdemg.library.openfiles">openhdemg.library.openfiles module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#function-s-scope">Function’s scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.openfiles.emg_from_demuse"><code class="docutils literal notranslate"><span class="pre">emg_from_demuse()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.openfiles.get_otb_refsignal"><code class="docutils literal notranslate"><span class="pre">get_otb_refsignal()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.openfiles.get_otb_decomposition"><code class="docutils literal notranslate"><span class="pre">get_otb_decomposition()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.openfiles.get_otb_mupulses"><code class="docutils literal notranslate"><span class="pre">get_otb_mupulses()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.openfiles.get_otb_ied"><code class="docutils literal notranslate"><span class="pre">get_otb_ied()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.openfiles.get_otb_rawsignal"><code class="docutils literal notranslate"><span class="pre">get_otb_rawsignal()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.openfiles.emg_from_otb"><code class="docutils literal notranslate"><span class="pre">emg_from_otb()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.openfiles.refsig_from_otb"><code class="docutils literal notranslate"><span class="pre">refsig_from_otb()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.openfiles.emg_from_customcsv"><code class="docutils literal notranslate"><span class="pre">emg_from_customcsv()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.openfiles.save_json_emgfile"><code class="docutils literal notranslate"><span class="pre">save_json_emgfile()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.openfiles.emg_from_json"><code class="docutils literal notranslate"><span class="pre">emg_from_json()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.openfiles.askopenfile"><code class="docutils literal notranslate"><span class="pre">askopenfile()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.openfiles.asksavefile"><code class="docutils literal notranslate"><span class="pre">asksavefile()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-openhdemg.library.otbelectrodes">openhdemg.library.otbelectrodes module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.otbelectrodes.OTBelectrodes_tuple"><code class="docutils literal notranslate"><span class="pre">OTBelectrodes_tuple</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.otbelectrodes.OTBelectrodes_ied"><code class="docutils literal notranslate"><span class="pre">OTBelectrodes_ied</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.otbelectrodes.OTBelectrodes_Nelectrodes"><code class="docutils literal notranslate"><span class="pre">OTBelectrodes_Nelectrodes</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.otbelectrodes.sort_rawemg"><code class="docutils literal notranslate"><span class="pre">sort_rawemg()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-openhdemg.library.plotemg">openhdemg.library.plotemg module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.plotemg.showgoodlayout"><code class="docutils literal notranslate"><span class="pre">showgoodlayout()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.plotemg.plot_emgsig"><code class="docutils literal notranslate"><span class="pre">plot_emgsig()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.plotemg.plot_differentials"><code class="docutils literal notranslate"><span class="pre">plot_differentials()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.plotemg.plot_refsig"><code class="docutils literal notranslate"><span class="pre">plot_refsig()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.plotemg.plot_mupulses"><code class="docutils literal notranslate"><span class="pre">plot_mupulses()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.plotemg.plot_ipts"><code class="docutils literal notranslate"><span class="pre">plot_ipts()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.plotemg.plot_idr"><code class="docutils literal notranslate"><span class="pre">plot_idr()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.plotemg.plot_muaps"><code class="docutils literal notranslate"><span class="pre">plot_muaps()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.plotemg.plot_muap"><code class="docutils literal notranslate"><span class="pre">plot_muap()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.plotemg.plot_muaps_for_cv"><code class="docutils literal notranslate"><span class="pre">plot_muaps_for_cv()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-openhdemg.library.tools">openhdemg.library.tools module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.tools.showselect"><code class="docutils literal notranslate"><span class="pre">showselect()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.tools.create_binary_firings"><code class="docutils literal notranslate"><span class="pre">create_binary_firings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.tools.resize_emgfile"><code class="docutils literal notranslate"><span class="pre">resize_emgfile()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.tools.compute_idr"><code class="docutils literal notranslate"><span class="pre">compute_idr()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.tools.delete_mus"><code class="docutils literal notranslate"><span class="pre">delete_mus()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.tools.sort_mus"><code class="docutils literal notranslate"><span class="pre">sort_mus()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.tools.compute_covsteady"><code class="docutils literal notranslate"><span class="pre">compute_covsteady()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.tools.filter_rawemg"><code class="docutils literal notranslate"><span class="pre">filter_rawemg()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.tools.filter_refsig"><code class="docutils literal notranslate"><span class="pre">filter_refsig()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.tools.remove_offset"><code class="docutils literal notranslate"><span class="pre">remove_offset()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.tools.get_mvc"><code class="docutils literal notranslate"><span class="pre">get_mvc()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.tools.compute_rfd"><code class="docutils literal notranslate"><span class="pre">compute_rfd()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-openhdemg.library">Module contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#openhdemg.library.info"><code class="docutils literal notranslate"><span class="pre">info</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#openhdemg.library.info.data"><code class="docutils literal notranslate"><span class="pre">info.data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#openhdemg.library.info.abbreviations"><code class="docutils literal notranslate"><span class="pre">info.abbreviations()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#openhdemg.library.info.aboutus"><code class="docutils literal notranslate"><span class="pre">info.aboutus()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#openhdemg.library.info.contacts"><code class="docutils literal notranslate"><span class="pre">info.contacts()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#openhdemg.library.info.links"><code class="docutils literal notranslate"><span class="pre">info.links()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#openhdemg.library.info.citeus"><code class="docutils literal notranslate"><span class="pre">info.citeus()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id14"><code class="docutils literal notranslate"><span class="pre">info.data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id15"><code class="docutils literal notranslate"><span class="pre">info.abbreviations()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id16"><code class="docutils literal notranslate"><span class="pre">info.aboutus()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id17"><code class="docutils literal notranslate"><span class="pre">info.contacts()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id18"><code class="docutils literal notranslate"><span class="pre">info.links()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id19"><code class="docutils literal notranslate"><span class="pre">info.citeus()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">openhdemg</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">openhdemg</a></li>
          <li class="breadcrumb-item"><a href="openhdemg.html">openhdemg package</a></li>
      <li class="breadcrumb-item active">openhdemg.library package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/openhdemg.library.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="openhdemg-library-package">
<h1>openhdemg.library package<a class="headerlink" href="#openhdemg-library-package" title="Permalink to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading"></a></h2>
</section>
<section id="module-openhdemg.library.analysis">
<span id="openhdemg-library-analysis-module"></span><h2>openhdemg.library.analysis module<a class="headerlink" href="#module-openhdemg.library.analysis" title="Permalink to this heading"></a></h2>
<p>This module contains all the functions used to analyse the MUs properties if
not involving the MUs action potential shape.</p>
<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.analysis.compute_thresholds">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.analysis.</span></span><span class="sig-name descname"><span class="pre">compute_thresholds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rt_dert'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'abs_rel'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mvc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/analysis.html#compute_thresholds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.analysis.compute_thresholds" title="Permalink to this definition"></a></dt>
<dd><p>Calculates recruitment/derecruitment thresholds.</p>
<p>Values are calculated both in absolute and relative therms.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the emgfile.</p></li>
<li><p><strong>event</strong> (<em>str {&quot;rt_dert&quot;</em><em>, </em><em>&quot;rt&quot;</em><em>, </em><em>&quot;dert&quot;}</em><em>, </em><em>default &quot;rt_dert&quot;</em>) – <p>When to calculate the thresholds.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">rt_dert</span></code></dt><dd><p>Both recruitment and derecruitment tresholds will be calculated.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rt</span></code></dt><dd><p>Only recruitment tresholds will be calculated.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dert</span></code></dt><dd><p>Only derecruitment tresholds will be calculated.</p>
</dd>
</dl>
</p></li>
<li><p><strong>type</strong> (<em>str {&quot;abs_rel&quot;</em><em>, </em><em>&quot;rel&quot;</em><em>, </em><em>&quot;abs&quot;}</em><em>, </em><em>default &quot;abs_rel&quot;</em>) – <p>The tipe of value to calculate.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">abs_rel</span></code></dt><dd><p>Both absolute and relative tresholds will be calculated.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rel</span></code></dt><dd><p>Only relative tresholds will be calculated.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">abs</span></code></dt><dd><p>Only absolute tresholds will be calculated.</p>
</dd>
</dl>
</p></li>
<li><p><strong>mvc</strong> (<em>float</em><em>, </em><em>default 0</em>) – The maximum voluntary contraction (MVC).
if mvc is 0, the user is asked to input MVC; otherwise, the value
passed is used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>mus_thresholds</strong> – A DataFrame containing the requested thresholds.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.analysis.compute_dr" title="openhdemg.library.analysis.compute_dr"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_dr</span></code></a></dt><dd><p>calculate the discharge rate.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.analysis.basic_mus_properties" title="openhdemg.library.analysis.basic_mus_properties"><code class="xref py py-obj docutils literal notranslate"><span class="pre">basic_mus_properties</span></code></a></dt><dd><p>calculate basic MUs properties on a trapezoidal contraction.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.analysis.compute_covisi" title="openhdemg.library.analysis.compute_covisi"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_covisi</span></code></a></dt><dd><p>calculate the coefficient of variation of interspike interval.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.analysis.compute_drvariability" title="openhdemg.library.analysis.compute_drvariability"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_drvariability</span></code></a></dt><dd><p>claculate the DR variability.</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>Load the EMG file and compute the thresholds.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mus_thresholds</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">compute_thresholds</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">event_</span><span class="o">=</span><span class="s2">&quot;rt_dert&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mus_thresholds</span>
<span class="go">       abs_RT    abs_DERT     rel_RT   rel_DERT</span>
<span class="go">0  160.148294  137.682351  18.665302  16.046894</span>
<span class="go">1   39.138554   49.860936   4.561603   5.811298</span>
<span class="go">2   88.155160   95.133218  10.274494  11.087788</span>
<span class="go">3   37.776982   41.010716   4.402912   4.779804</span>
</pre></div>
</div>
<p>Type of output can be adjusted, e.g., to have only absolute values at
recruitment.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mus_thresholds</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">compute_thresholds</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">event_</span><span class="o">=</span><span class="s2">&quot;rt&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">type_</span><span class="o">=</span><span class="s2">&quot;abs&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mus_thresholds</span>
<span class="go">       abs_RT</span>
<span class="go">0  160.148294</span>
<span class="go">1   39.138554</span>
<span class="go">2   88.155160</span>
<span class="go">3   37.776982</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.analysis.compute_dr">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.analysis.</span></span><span class="sig-name descname"><span class="pre">compute_dr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_firings_RecDerec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_firings_steady</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_steady</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_steady</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rec_derec_steady'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/analysis.html#compute_dr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.analysis.compute_dr" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the discharge rate (DR).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the emgfile.</p></li>
<li><p><strong>n_firings_RecDerec</strong> (<em>int</em><em>, </em><em>default 4</em>) – The number of firings at recruitment and derecruitment to consider for
the calculation of the DR.</p></li>
<li><p><strong>n_firings_steady</strong> (<em>int</em><em>, </em><em>default 10</em>) – The number of firings to consider for the calculation of the DR at the
start and at the end
of the steady-state phase.</p></li>
<li><p><strong>start_steady</strong> (<em>int</em><em>, </em><em>default -1</em>) – The start and end point (in samples) of the steady-state phase.
If &lt; 0 (default), the user will need to manually select the start and
end of the steady-state phase.</p></li>
<li><p><strong>end_steady</strong> (<em>int</em><em>, </em><em>default -1</em>) – The start and end point (in samples) of the steady-state phase.
If &lt; 0 (default), the user will need to manually select the start and
end of the steady-state phase.</p></li>
<li><p><strong>event</strong> (<em>str {&quot;rec_derec_steady&quot;</em><em>, </em><em>&quot;rec&quot;</em><em>, </em><em>&quot;derec&quot;</em><em>, </em><em>&quot;rec_derec&quot;</em><em>, </em><em>&quot;steady&quot;}</em><em>, </em><em>default &quot;rec_derec_steady&quot;</em>) – <p>When to calculate the DR.</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">rec_derec_steady</span></code></dt><dd><p>DR is calculated at recruitment, derecruitment and during the
steady-state phase.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rec</span></code></dt><dd><p>DR is calculated at recruitment.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">derec</span></code></dt><dd><p>DR is calculated at derecruitment.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rec_derec</span></code></dt><dd><p>DR is calculated at recruitment and derecruitment.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">steady</span></code></dt><dd><p>DR is calculated during the steady-state phase.</p>
</dd>
</dl>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>mus_dr</strong> – A pd.DataFrame containing the requested DR.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
<dt class="field-even">Warns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>warning</strong> – When calculation of DR at rec/derec fails due to not enough firings.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.analysis.compute_thresholds" title="openhdemg.library.analysis.compute_thresholds"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_thresholds</span></code></a></dt><dd><p>calculates recruitment/derecruitment thresholds.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.analysis.basic_mus_properties" title="openhdemg.library.analysis.basic_mus_properties"><code class="xref py py-obj docutils literal notranslate"><span class="pre">basic_mus_properties</span></code></a></dt><dd><p>calculate basic MUs properties on a trapezoidal contraction.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.analysis.compute_covisi" title="openhdemg.library.analysis.compute_covisi"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_covisi</span></code></a></dt><dd><p>calculate the coefficient of variation of interspike interval.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.analysis.compute_drvariability" title="openhdemg.library.analysis.compute_drvariability"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_drvariability</span></code></a></dt><dd><p>claculate the DR variability.</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>DR for all the contraction is automatically calculated and returned.</p>
<p class="rubric">Examples</p>
<p>Load the EMG file and compute the DR.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mus_dr</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">compute_dr</span><span class="p">(</span><span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mus_dr</span>
<span class="go">     DR_rec  DR_derec  DR_start_steady  DR_end_steady  DR_all_steady     DR_all</span>
<span class="go">0  5.701081  4.662196         7.321255       6.420720       6.907559   6.814342</span>
<span class="go">1  7.051127  6.752467        14.919066      10.245462      11.938671  11.683134</span>
<span class="go">2  6.101529  4.789000         7.948740       6.133345       7.695189   8.055731</span>
<span class="go">3  6.345692  5.333535        11.121785       9.265212      11.544140  11.109796</span>
</pre></div>
</div>
<p>Type of output can be adjusted, e.g., to have only the DR at recruitment.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mus_dr</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">compute_dr</span><span class="p">(</span><span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span> <span class="n">event_</span><span class="o">=</span><span class="s2">&quot;rec&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mus_dr</span>
<span class="go">     DR_rec     DR_all</span>
<span class="go">0  5.701081   6.814342</span>
<span class="go">1  7.051127  11.683134</span>
<span class="go">2  6.101529   8.055731</span>
<span class="go">3  6.345692  11.109796</span>
</pre></div>
</div>
<p>The manual selection of the steady state phase can be bypassed
if previously calculated with an automated method.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mus_dr</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">compute_dr</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">start_steady</span><span class="o">=</span><span class="mi">20000</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">end_steady</span><span class="o">=</span><span class="mi">50000</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">event_</span><span class="o">=</span><span class="s2">&quot;steady&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mus_dr</span>
<span class="go">   DR_start_steady  DR_end_steady  DR_all_steady     DR_all</span>
<span class="go">0         7.476697       6.271750       6.794170   6.814342</span>
<span class="go">1        14.440561      10.019572      11.822081  11.683134</span>
<span class="go">2         7.293547       5.846093       7.589531   8.055731</span>
<span class="go">3        13.289651       9.694317      11.613640  11.109796</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.analysis.basic_mus_properties">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.analysis.</span></span><span class="sig-name descname"><span class="pre">basic_mus_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_firings_RecDerec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_firings_steady</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_steady</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_steady</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mvc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/analysis.html#basic_mus_properties"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.analysis.basic_mus_properties" title="Permalink to this definition"></a></dt>
<dd><p>Calculate basic MUs properties on a trapezoidal contraction.</p>
<p>The function is meant to be used on trapezoidal contractions and
calculates:
the absolute/relative recruitment/derecruitment thresholds,
the discharge rate at recruitment, derecruitment, during the steady-state
phase and during the entire contraction,
the coefficient of variation of interspike interval,
the coefficient of variation of force signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the emgfile.</p></li>
<li><p><strong>n_firings_RecDerec</strong> (<em>int</em><em>, </em><em>default 4</em>) – The number of firings at recruitment and derecruitment to consider for
the calculation of the DR.</p></li>
<li><p><strong>n_firings_steady</strong> (<em>int</em><em>, </em><em>default 10</em>) – The number of firings to consider for the calculation of the DR at the
start and at the end of the steady-state phase.</p></li>
<li><p><strong>start_steady</strong> (<em>int</em><em>, </em><em>default -1</em>) – The start and end point (in samples) of the steady-state phase.
If &lt; 0 (default), the user will need to manually select the start and
end of the steady-state phase.</p></li>
<li><p><strong>end_steady</strong> (<em>int</em><em>, </em><em>default -1</em>) – The start and end point (in samples) of the steady-state phase.
If &lt; 0 (default), the user will need to manually select the start and
end of the steady-state phase.</p></li>
<li><p><strong>mvc</strong> (<em>float</em><em>, </em><em>default 0</em>) – The maximum voluntary contraction (MVC). It is suggest to report
MVC in Newton (N). If 0 (default), the user will be asked to imput it
manually. Otherwise, the passed value will be used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>exportable_df</strong> – A pd.DataFrame containing the results of the analysis.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.analysis.compute_thresholds" title="openhdemg.library.analysis.compute_thresholds"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_thresholds</span></code></a></dt><dd><p>calculates recruitment/derecruitment thresholds.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.analysis.compute_dr" title="openhdemg.library.analysis.compute_dr"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_dr</span></code></a></dt><dd><p>calculate the discharge rate.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.analysis.compute_covisi" title="openhdemg.library.analysis.compute_covisi"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_covisi</span></code></a></dt><dd><p>calculate the coefficient of variation of interspike interval.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.analysis.compute_drvariability" title="openhdemg.library.analysis.compute_drvariability"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_drvariability</span></code></a></dt><dd><p>claculate the DR variability.</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>Get full summary of all the MUs properties.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">basic_mus_properties</span><span class="p">(</span><span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">     MVC  MU_number      abs_RT    abs_DERT     rel_RT   rel_DERT    DR_rec  DR_derec  DR_start_steady  DR_end_steady  DR_all_steady     DR_all  COVisi_steady  COVisi_all  COV_steady</span>
<span class="go">0  786.0          1  146.709276  126.128587  18.665302  16.046894  5.701081  4.662196         7.467810       6.242360       6.902616   6.814342      11.296316   16.309681    1.423286</span>
<span class="go">1    NaN          2   35.854200   45.676801   4.561603   5.811298  7.051127  6.752467        11.798908       9.977337      11.784061  11.683134      15.871254   21.233615         NaN</span>
<span class="go">2    NaN          3   80.757524   87.150011  10.274494  11.087788  6.101529  4.789000         7.940926       5.846093       7.671361   8.055731      35.755090   35.308650         NaN</span>
<span class="go">3    NaN          4   34.606886   37.569257   4.402912   4.779804  6.345692  5.333535        11.484875       9.636914      11.594712  11.109796      24.611246   29.372524         NaN</span>
</pre></div>
</div>
<p>We can bypass manual prompting the MVC by pre-specifying it and/or
bypass the manual selection of the steady state phase if previously
calculated with an automated method.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">basic_mus_properties</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">start_steady</span><span class="o">=</span><span class="mi">20000</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">end_steady</span><span class="o">=</span><span class="mi">50000</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">mvc</span><span class="o">=</span><span class="mi">786</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">     MVC  MU_number      abs_RT    abs_DERT     rel_RT   rel_DERT    DR_rec  DR_derec  DR_start_steady  DR_end_steady  DR_all_steady     DR_all  COVisi_steady  COVisi_all  COV_steady</span>
<span class="go">0  786.0          1  146.709276  126.128587  18.665302  16.046894  5.701081  4.662196         7.476697       6.271750       6.794170   6.814342      11.066966   16.309681    1.431752</span>
<span class="go">1    NaN          2   35.854200   45.676801   4.561603   5.811298  7.051127  6.752467        14.440561      10.019572      11.822081  11.683134      15.076819   21.233615         NaN</span>
<span class="go">2    NaN          3   80.757524   87.150011  10.274494  11.087788  6.101529  4.789000         7.293547       5.846093       7.589531   8.055731      36.996894   35.308650         NaN</span>
<span class="go">3    NaN          4   34.606886   37.569257   4.402912   4.779804  6.345692  5.333535        13.289651       9.694317      11.613640  11.109796      26.028689   29.372524         NaN</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.analysis.compute_covisi">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.analysis.</span></span><span class="sig-name descname"><span class="pre">compute_covisi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_firings_RecDerec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_steady</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_steady</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rec_derec_steady'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">single_mu_number</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/analysis.html#compute_covisi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.analysis.compute_covisi" title="Permalink to this definition"></a></dt>
<dd><p>Calculate theCOVisi.</p>
<p>This function calculates the coefficient of variation of interspike
interval (COVisi).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the emgfile.</p></li>
<li><p><strong>n_firings_RecDerec</strong> (<em>int</em><em>, </em><em>default 4</em>) – The number of firings at recruitment and derecruitment to consider for
the calculation of the COVisi.</p></li>
<li><p><strong>start_steady</strong> (<em>int</em><em>, </em><em>default -1</em>) – The start and end point (in samples) of the steady-state phase.
If &lt; 0 (default), the user will need to manually select the start and
end of the steady-state phase.</p></li>
<li><p><strong>end_steady</strong> (<em>int</em><em>, </em><em>default -1</em>) – The start and end point (in samples) of the steady-state phase.
If &lt; 0 (default), the user will need to manually select the start and
end of the steady-state phase.</p></li>
<li><p><strong>event</strong> (<em>str {&quot;rec_derec_steady&quot;</em><em>, </em><em>&quot;rec&quot;</em><em>, </em><em>&quot;derec&quot;</em><em>, </em><em>&quot;rec_derec&quot;</em><em>, </em><em>&quot;steady&quot;}</em><em>, </em><em>default &quot;rec_derec_steady&quot;</em>) – <p>When to calculate the COVisi.</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">rec_derec_steady</span></code></dt><dd><p>covisi is calculated at recruitment, derecruitment and during
the steady-state phase.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rec</span></code></dt><dd><p>covisi is calculated at recruitment.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">derec</span></code></dt><dd><p>covisi is calculated at derecruitment.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rec_derec</span></code></dt><dd><p>covisi is calculated at recruitment and derecruitment.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">steady</span></code></dt><dd><p>covisi is calculated during the steady-state phase.</p>
</dd>
</dl>
</div></blockquote>
</p></li>
<li><p><strong>single_mu_number</strong> (<em>int</em><em>, </em><em>default -1</em>) – Number of the specific MU to compute the COVisi.
If single_mu_number &gt;= 0, only the COVisi of the entire contraction
will be returned. If -1 (default), COVisi will be calculated for all
the MUs.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>covisi</strong> – A pd.DataFrame containing the requested COVisi.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.analysis.compute_thresholds" title="openhdemg.library.analysis.compute_thresholds"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_thresholds</span></code></a></dt><dd><p>calculates recruitment/derecruitment thresholds.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.analysis.compute_dr" title="openhdemg.library.analysis.compute_dr"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_dr</span></code></a></dt><dd><p>calculate the discharge rate.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.analysis.basic_mus_properties" title="openhdemg.library.analysis.basic_mus_properties"><code class="xref py py-obj docutils literal notranslate"><span class="pre">basic_mus_properties</span></code></a></dt><dd><p>calculate basic MUs properties on a trapezoidal contraction.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.analysis.compute_drvariability" title="openhdemg.library.analysis.compute_drvariability"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_drvariability</span></code></a></dt><dd><p>claculate the DR variability.</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>COVisi for all the contraction is automatically calculated and returned.</p>
<p class="rubric">Examples</p>
<p>Compute covisi during the various parts of the trapezoidal contraction.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">compute_covisi</span><span class="p">(</span><span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   COVisi_rec  COVisi_derec  COVisi_steady  COVisi_all</span>
<span class="go">0    8.600651     24.007405      11.230602   16.309681</span>
<span class="go">1   46.874208     19.243432      16.657603   21.233615</span>
<span class="go">2   32.212757     18.642514      35.421124   35.308650</span>
<span class="go">3   62.995864     13.080768      24.966372   29.372524</span>
</pre></div>
</div>
<p>If the steady-state phase has been pre-identified, the manual selection
of the area can be bypassed.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">compute_covisi</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">event_</span><span class="o">=</span><span class="s2">&quot;rec_derec&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">start_steady</span><span class="o">=</span><span class="mi">20000</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">end_steady</span><span class="o">=</span><span class="mi">50000</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   COVisi_rec  COVisi_derec  COVisi_all</span>
<span class="go">0    8.600651     24.007405   16.309681</span>
<span class="go">1   46.874208     19.243432   21.233615</span>
<span class="go">2   32.212757     18.642514   35.308650</span>
<span class="go">3   62.995864     13.080768   29.372524</span>
</pre></div>
</div>
<p>To access the covisi of the entire contraction of a single MU.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">compute_covisi</span><span class="p">(</span><span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span> <span class="n">single_mu_number</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   COVisi_all</span>
<span class="go">0    35.30865</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.analysis.compute_drvariability">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.analysis.</span></span><span class="sig-name descname"><span class="pre">compute_drvariability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_firings_RecDerec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_steady</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_steady</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rec_derec_steady'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/analysis.html#compute_drvariability"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.analysis.compute_drvariability" title="Permalink to this definition"></a></dt>
<dd><p>Claculate the DR variability.</p>
<p>This function calculates the variability (as the coefficient of variation)
of the instantaneous discharge rate (DR) at recruitment, derecruitment,
during the steady-state phase and during all the contraction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the emgfile.</p></li>
<li><p><strong>n_firings_RecDerec</strong> (<em>int</em><em>, </em><em>default 4</em>) – The number of firings at recruitment and derecruitment to consider for
the calculation of the DR variability.</p></li>
<li><p><strong>start_steady</strong> (<em>int</em><em>, </em><em>default -1</em>) – The start and end point (in samples) of the steady-state phase.
If &lt; 0 (default), the user will need to manually select the start and
end of the steady-state phase.</p></li>
<li><p><strong>end_steady</strong> (<em>int</em><em>, </em><em>default -1</em>) – The start and end point (in samples) of the steady-state phase.
If &lt; 0 (default), the user will need to manually select the start and
end of the steady-state phase.</p></li>
<li><p><strong>event</strong> (<em>str {&quot;rec_derec_steady&quot;</em><em>, </em><em>&quot;rec&quot;</em><em>, </em><em>&quot;derec&quot;</em><em>, </em><em>&quot;rec_derec&quot;</em><em>, </em><em>&quot;steady&quot;}</em><em>, </em><em>default &quot;rec_derec_steady&quot;</em>) – <p>When to calculate the DR variability.</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">rec_derec_steady</span></code></dt><dd><p>DR variability is calculated at recruitment, derecruitment and
during the steady-state phase.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rec</span></code></dt><dd><p>DR variability is calculated at recruitment.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">derec</span></code></dt><dd><p>DR variability is calculated at derecruitment.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rec_derec</span></code></dt><dd><p>DR variability is calculated at recruitment and derecruitment.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">steady</span></code></dt><dd><p>DR variability is calculated during the steady-state phase.</p>
</dd>
</dl>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>drvariability</strong> – A pd.DataFrame containing the requested DR variability.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.analysis.compute_thresholds" title="openhdemg.library.analysis.compute_thresholds"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_thresholds</span></code></a></dt><dd><p>calculates recruitment/derecruitment thresholds.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.analysis.compute_dr" title="openhdemg.library.analysis.compute_dr"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_dr</span></code></a></dt><dd><p>calculate the discharge rate.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.analysis.basic_mus_properties" title="openhdemg.library.analysis.basic_mus_properties"><code class="xref py py-obj docutils literal notranslate"><span class="pre">basic_mus_properties</span></code></a></dt><dd><p>calculate basic MUs properties on a trapezoidal contraction.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.analysis.compute_covisi" title="openhdemg.library.analysis.compute_covisi"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_covisi</span></code></a></dt><dd><p>calculate the coefficient of variation of interspike interval.</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>DR variability for all the contraction is automatically calculated and
returned.</p>
<p class="rubric">Examples</p>
<p>Compute covisi during the various parts of the trapezoidal contraction.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">compute_covisi</span><span class="p">(</span><span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   DRvar_rec  DRvar_derec  DRvar_steady  DRvar_all</span>
<span class="go">0   8.560971    21.662783     11.051780  13.937779</span>
<span class="go">1  36.934213    17.714761     55.968609  52.726356</span>
<span class="go">2  28.943139    17.263000     49.375100  54.420703</span>
<span class="go">3  48.322396    12.873456     54.718482  48.019809</span>
</pre></div>
</div>
<p>If the steady-state phase has been pre-identified, the manual selection
of the area can be bypassed.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">compute_covisi</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">event_</span><span class="o">=</span><span class="s2">&quot;rec_derec&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">start_steady</span><span class="o">=</span><span class="mi">20000</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">end_steady</span><span class="o">=</span><span class="mi">50000</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   DRvar_rec  DRvar_derec  DRvar_all</span>
<span class="go">0   8.560971    21.662783  13.937779</span>
<span class="go">1  36.934213    17.714761  52.726356</span>
<span class="go">2  28.943139    17.263000  54.420703</span>
<span class="go">3  48.322396    12.873456  48.019809</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-openhdemg.library.info">
<span id="openhdemg-library-info-module"></span><h2>openhdemg.library.info module<a class="headerlink" href="#module-openhdemg.library.info" title="Permalink to this heading"></a></h2>
<dl class="simple">
<dt>This module contains all the informations regarding:</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>Data</dt><dd><ul>
<li><p>Structures of data</p></li>
<li><p>How to access data</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Abbreviations</p></li>
<li><p>AboutUs</p></li>
<li><p>Contacts</p></li>
<li><p>Links</p></li>
<li><p>CiteUs</p></li>
</ul>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="openhdemg.library.info.info">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">openhdemg.library.info.</span></span><span class="sig-name descname"><span class="pre">info</span></span><a class="reference internal" href="_modules/openhdemg/library/info.html#info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.info.info" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class used to obtain info.</p>
<dl class="py method">
<dt class="sig sig-object py" id="openhdemg.library.info.info.data">
<span class="sig-name descname"><span class="pre">data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/info.html#info.data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.info.info.data" title="Permalink to this definition"></a></dt>
<dd><p>Print a description of the emgfile data structure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openhdemg.library.info.info.abbreviations">
<span class="sig-name descname"><span class="pre">abbreviations</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/info.html#info.abbreviations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.info.info.abbreviations" title="Permalink to this definition"></a></dt>
<dd><p>Print common abbreviations.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openhdemg.library.info.info.aboutus">
<span class="sig-name descname"><span class="pre">aboutus</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/info.html#info.aboutus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.info.info.aboutus" title="Permalink to this definition"></a></dt>
<dd><p>Print informations about the library and the authors.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openhdemg.library.info.info.contacts">
<span class="sig-name descname"><span class="pre">contacts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/info.html#info.contacts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.info.info.contacts" title="Permalink to this definition"></a></dt>
<dd><p>Print the contacts.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openhdemg.library.info.info.links">
<span class="sig-name descname"><span class="pre">links</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/info.html#info.links"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.info.info.links" title="Permalink to this definition"></a></dt>
<dd><p>Print a collection of useful links.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openhdemg.library.info.info.citeus">
<span class="sig-name descname"><span class="pre">citeus</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/info.html#info.citeus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.info.info.citeus" title="Permalink to this definition"></a></dt>
<dd><p>Print how to cite the project.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id0">
<span class="sig-name descname"><span class="pre">data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/info.html#info.data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id0" title="Permalink to this definition"></a></dt>
<dd><p>Print a description of the emgfile data structure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the emgfile.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id1">
<span class="sig-name descname"><span class="pre">abbreviations</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/info.html#info.abbreviations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id1" title="Permalink to this definition"></a></dt>
<dd><p>Print common abbreviations.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id2">
<span class="sig-name descname"><span class="pre">aboutus</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/info.html#info.aboutus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id2" title="Permalink to this definition"></a></dt>
<dd><p>Print informations about the library and the authors.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id3">
<span class="sig-name descname"><span class="pre">contacts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/info.html#info.contacts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id3" title="Permalink to this definition"></a></dt>
<dd><p>Print the contacts.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id4">
<span class="sig-name descname"><span class="pre">links</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/info.html#info.links"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id4" title="Permalink to this definition"></a></dt>
<dd><p>Print a collection of useful links.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id5">
<span class="sig-name descname"><span class="pre">citeus</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/info.html#info.citeus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id5" title="Permalink to this definition"></a></dt>
<dd><p>Print how to cite the project.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-openhdemg.library.mathtools">
<span id="openhdemg-library-mathtools-module"></span><h2>openhdemg.library.mathtools module<a class="headerlink" href="#module-openhdemg.library.mathtools" title="Permalink to this heading"></a></h2>
<p>This module contains all the mathematical functions that are necessary for the
library.</p>
<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.mathtools.min_max_scaling">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.mathtools.</span></span><span class="sig-name descname"><span class="pre">min_max_scaling</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series_or_df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/mathtools.html#min_max_scaling"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.mathtools.min_max_scaling" title="Permalink to this definition"></a></dt>
<dd><p>Min-max scaling of pd.series or pd.dataframes.</p>
<p>Min-max feature scaling is often simply referred to as normalization,
which rescales the dataset feature to a range of 0 - 1.
It’s calculated by subtracting the feature’s minimum value from the value
and then dividing it by the difference between the maximum and minimum
value.</p>
<p>The formula looks like this: xnorm = x - xmin / xmax - xmin.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>series_or_df</strong> (<em>pd.Series</em><em> or </em><em>pd.DataFrame</em>) – The min-max scaling is performed for the entire series,
or for single columns in a pd.DataFrame.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>object</strong> – The normalised pd.Series or pd.DataFrame (normalised by column).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.Series or pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.mathtools.norm_xcorr">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.mathtools.</span></span><span class="sig-name descname"><span class="pre">norm_xcorr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sig1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'both'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/mathtools.html#norm_xcorr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.mathtools.norm_xcorr" title="Permalink to this definition"></a></dt>
<dd><p>Normalized cross-correlation of 2 signals.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sig1</strong> (<em>pd.Series</em><em> or </em><em>np.ndarray</em>) – The two signals to correlate.
These signals must be 1-dimensional and of same length.</p></li>
<li><p><strong>sig2</strong> (<em>pd.Series</em><em> or </em><em>np.ndarray</em>) – The two signals to correlate.
These signals must be 1-dimensional and of same length.</p></li>
<li><p><strong>out</strong> (<em>str {&quot;both&quot;</em><em>, </em><em>&quot;max&quot;}</em><em>, </em><em>default &quot;both&quot;</em>) – <p>A string indicating the output value:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">both</span></code></dt><dd><p>The output is the greatest positive or negative cross-correlation
value.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">max</span></code></dt><dd><p>The output is the maximum cross-correlation value.</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>xcc</strong> – The cross-correlation value depending on “out”.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.mathtools.norm_twod_xcorr" title="openhdemg.library.mathtools.norm_twod_xcorr"><code class="xref py py-obj docutils literal notranslate"><span class="pre">norm_twod_xcorr</span></code></a></dt><dd><p>Normalised 2-dimensional cross-correlation of STAs of two MUS.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.mathtools.norm_twod_xcorr">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.mathtools.</span></span><span class="sig-name descname"><span class="pre">norm_twod_xcorr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'full'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/mathtools.html#norm_twod_xcorr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.mathtools.norm_twod_xcorr" title="Permalink to this definition"></a></dt>
<dd><p>Normalised 2-dimensional cross-correlation of STAs of two MUS.</p>
<p>Any pre-processing of the RAW_SIGNAL (i.e., normal, differential or double
differential) can be passed as long as the two inputs have same shape.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df1</strong> (<em>pd.DataFrame</em>) – A pd.DataFrame containing the STA of the first MU without np.nan
column.</p></li>
<li><p><strong>df2</strong> (<em>pd.DataFrame</em>) – A pd.DataFrame containing the STA of the second MU without np.nan
column.</p></li>
<li><p><strong>mode</strong> (<em>str {&quot;full&quot;</em><em>, </em><em>&quot;valid&quot;</em><em>, </em><em>&quot;same&quot;}</em><em>, </em><em>default &quot;full&quot;</em>) – <p>A string indicating the size of the output:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">full</span></code></dt><dd><p>The output is the full discrete linear cross-correlation
of the inputs. (Default)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">valid</span></code></dt><dd><p>The output consists only of those elements that do not
rely on the zero-padding. In ‘valid’ mode, either <cite>sta_mu1</cite> or
<cite>sta_mu2</cite> must be at least as large as the other in every dimension.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">same</span></code></dt><dd><p>The output is the same size as <cite>in1</cite>, centered
with respect to the ‘full’ output.</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>normxcorr_df</strong> (<em>pd.DataFrame</em>) – The results of the normalised 2d cross-correlation.</p></li>
<li><p><strong>normxcorr_max</strong> (<em>float</em>) – The maximum value of the 2d cross-correlation.</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">align_by_xcorr</span></code></dt><dd><p>to align the two STAs before calling norm_twod_xcorr.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">unpack_sta</span></code></dt><dd><p>for unpacking the sta dict in a pd.DataFrame before passing it to norm_twod_xcorr.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">pack_sta</span></code></dt><dd><p>for packing the sta pd.DataFrame in a dict where each matrix column corresponds to a dict key.</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>Full steps to pass two dataframes to norm_twod_xcorr from the same EMG
file.
1 Load the EMG file and band-pass filter the raw EMG signal
2 Sort the matrix channels and compute the spike-triggered average
3 Extract the STA of the MUs of interest from all the STAs
4 Unpack the STAs of single MUs and remove np.nan to pas them to</p>
<blockquote>
<div><p>norm_twod_xcorr</p>
</div></blockquote>
<p>5 Compute 2dxcorr to identify a common lag/delay</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">filter_rawemg</span><span class="p">(</span><span class="n">emgfile</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">lowcut</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">highcut</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_rawemg</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sort_rawemg</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">code</span><span class="o">=</span><span class="s2">&quot;GR08MM1305&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">orientation</span><span class="o">=</span><span class="mi">180</span><span class="p">,</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sta</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sta</span><span class="p">(</span><span class="n">emgfile</span><span class="p">,</span> <span class="n">sorted_rawemg</span><span class="p">,</span> <span class="n">firings</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span> <span class="n">timewindow</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mu0</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mu1</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sta_mu1</span> <span class="o">=</span> <span class="n">sta</span><span class="p">[</span><span class="n">mu0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sta_mu2</span> <span class="o">=</span> <span class="n">sta</span><span class="p">[</span><span class="n">mu1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df1</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">unpack_sta</span><span class="p">(</span><span class="n">sta_mu1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">no_nan_sta1</span> <span class="o">=</span> <span class="n">df1</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df2</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">unpack_sta</span><span class="p">(</span><span class="n">sta_mu2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">no_nan_sta2</span> <span class="o">=</span> <span class="n">df2</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">normxcorr_df</span><span class="p">,</span> <span class="n">normxcorr_max</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">norm_twod_xcorr</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">no_nan_sta1</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">no_nan_sta2</span><span class="p">,</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">normxcorr_max</span>
<span class="go">0.7241553627564273</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">normxcorr_df</span>
<span class="go">            0             1             2               125       126</span>
<span class="go">0   -0.000002 -1.467778e-05 -3.013564e-05 ... -1.052780e-06  0.000001</span>
<span class="go">1   -0.000004 -2.818055e-05 -6.024427e-05 ... -4.452469e-06  0.000001</span>
<span class="go">2   -0.000007 -4.192479e-05 -9.223725e-05 ... -1.549197e-05 -0.000002</span>
<span class="go">3   -0.000009 -5.071660e-05 -1.174545e-04 ... -3.078518e-05 -0.000007</span>
<span class="go">4   -0.000007 -4.841255e-05 -1.239106e-04 ... -4.232094e-05 -0.000012</span>
<span class="go">..        ...           ...           ... ...           ...       ...</span>
<span class="go">402  0.000005  1.641773e-05  3.994943e-05 ...  8.170792e-07 -0.000006</span>
<span class="go">403 -0.000001  4.535878e-06  1.858700e-05 ...  2.087135e-06 -0.000003</span>
<span class="go">404 -0.000004 -1.241530e-06  5.704194e-06 ...  1.027966e-05  0.000002</span>
<span class="go">405 -0.000004 -1.693078e-06  1.054646e-06 ...  1.811828e-05  0.000007</span>
<span class="go">406 -0.000002 -2.473282e-07  6.006046e-07 ...  1.605406e-05  0.000007</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.mathtools.compute_sil">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.mathtools.</span></span><span class="sig-name descname"><span class="pre">compute_sil</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ipts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mupulses</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/mathtools.html#compute_sil"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.mathtools.compute_sil" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the Silhouette score for a single MU.</p>
<p>The SIL is defined as the difference between the within-cluster sums of
point-to-centroid distances and the same measure calculated between
clusters. The output measure is normalised in a range between 0 and 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ipts</strong> (<em>pd.Series</em>) – The source of decomposition (or pulse train, IPTS[mu]) of the MU of
interest.</p></li>
<li><p><strong>mupulses</strong> (<em>ndarray</em>) – The time of firing (MUPULSES[mu]) of the MU of interest.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>sil</strong> – The SIL score.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.mathtools.compute_pnr" title="openhdemg.library.mathtools.compute_pnr"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_pnr</span></code></a></dt><dd><p>to calculate the Pulse to Noise ratio of a single MU.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.mathtools.compute_pnr">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.mathtools.</span></span><span class="sig-name descname"><span class="pre">compute_pnr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ipts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mupulses</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fsamp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separate_paired_firings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/mathtools.html#compute_pnr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.mathtools.compute_pnr" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the pulse to noise ratio for a single MU.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ipts</strong> (<em>pd.Series</em>) – The source of decomposition (or pulse train, IPTS[mu]) of the MU of
interest.</p></li>
<li><p><strong>mupulses</strong> (<em>ndarray</em>) – The time of firing (MUPULSES[mu]) of the MU of interest.</p></li>
<li><p><strong>separate_paired_firings</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether to treat differently paired and non-paired firings during
the estimation of the signal/noise threshold. According to Holobar
2012, this is common in pathological tremor. This can be set to
True when working with pathological tremor.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>pnr</strong> – The PNR in decibels.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.mathtools.compute_sil" title="openhdemg.library.mathtools.compute_sil"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_sil</span></code></a></dt><dd><p>to calculate the Silhouette score for a single MU.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.mathtools.derivatives_beamforming">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.mathtools.</span></span><span class="sig-name descname"><span class="pre">derivatives_beamforming</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">teta</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/mathtools.html#derivatives_beamforming"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.mathtools.derivatives_beamforming" title="Permalink to this definition"></a></dt>
<dd><p>Calculate devivatives for the beamforming technique.</p>
<p>Calculate the first and second devivative of the mean square error for the
beamforming technique with the first signal as reference.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sig</strong> (<em>pd.Dataframe</em>) – The source signal to be used for the calculation.
Different channels should be organised in different rows.</p></li>
<li><p><strong>row</strong> (<em>int</em>) – The actual row in the iterative procedure.</p></li>
<li><p><strong>teta</strong> (<em>float</em>) – The value of teta.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>de1, de2</strong> – The value of the first and second derivative.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.mathtools.mle_cv_est" title="openhdemg.library.mathtools.mle_cv_est"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mle_cv_est</span></code></a></dt><dd><p>Estimate conduction velocity (CV) via maximum likelihood estimation.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.mathtools.mle_cv_est">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.mathtools.</span></span><span class="sig-name descname"><span class="pre">mle_cv_est</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_teta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ied</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fsamp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/mathtools.html#mle_cv_est"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.mathtools.mle_cv_est" title="Permalink to this definition"></a></dt>
<dd><p>Estimate conduction velocity (CV) via maximum likelihood estimation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sig</strong> (<em>pd.Dataframe</em>) – The source signal to be used for the calculation.
Different channels should be organised in different rows.</p></li>
<li><p><strong>initial_teta</strong> (<em>int</em>) – The starting value teta.</p></li>
<li><p><strong>ied</strong> (<em>int</em>) – Interelectrode distance (mm).</p></li>
<li><p><strong>fsamp</strong> (<em>int</em>) – Sampling frequency (Hz).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>cv</strong> (<em>float</em>) – Conduction velocity (M/s).</p></li>
<li><p><strong>teta</strong> (<em>float</em>) – The final value of teta.</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.mathtools.find_teta" title="openhdemg.library.mathtools.find_teta"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_teta</span></code></a></dt><dd><p>Find the starting value for teta.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">MUcv_gui</span></code></dt><dd><p>Graphical user interface for the estimation of MUs conduction velocity.</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>Refer to the examples of find_teta to obtain sig and initial_teta.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.mathtools.find_teta">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.mathtools.</span></span><span class="sig-name descname"><span class="pre">find_teta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sig1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ied</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fsamp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/mathtools.html#find_teta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.mathtools.find_teta" title="Permalink to this definition"></a></dt>
<dd><p>Find the starting value for teta.</p>
<p>It is important to don’t fix teta and use a non-fixed starting point for
the CV algorithm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sig1</strong> (<em>pd.Series</em>) – The two signals based on which to calculate teta.
These must be pd.Series, i.e., 1-dimensional data structures.</p></li>
<li><p><strong>sig2</strong> (<em>pd.Series</em>) – The two signals based on which to calculate teta.
These must be pd.Series, i.e., 1-dimensional data structures.</p></li>
<li><p><strong>ied</strong> (<em>int</em>) – Interelectrode distance (mm).</p></li>
<li><p><strong>fsamp</strong> (<em>int</em>) – Sampling frequency (Hz).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>teta</strong> – The starting value teta.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.mathtools.mle_cv_est" title="openhdemg.library.mathtools.mle_cv_est"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mle_cv_est</span></code></a></dt><dd><p>Estimate conduction velocity (CV) via maximum likelihood estimation.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">MUcv_gui</span></code></dt><dd><p>Graphical user interface for the estimation of MUs conduction velocity.</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>Calculate the starting point for the maximum likelihood estimation.
In this example we calculate teta for the first MU on the channels 5,6,7
in the third column (“col3”) of the double differential representation of
the MUAPs.
First, obtain the spike-triggered average of the double differential
derivation.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">... </span><span class="n">sorted_rawemg</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sort_rawemg</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">code</span><span class="o">=</span><span class="s2">&quot;GR08MM1305&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">orientation</span><span class="o">=</span><span class="mi">180</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">dividebycolumn</span><span class="o">=</span><span class="kc">True</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dd</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">double_diff</span><span class="p">(</span><span class="n">sorted_rawemg</span><span class="o">=</span><span class="n">sorted_rawemg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sta</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sta</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">sorted_rawemg</span><span class="o">=</span><span class="n">sorted_rawemg</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">firings</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">50</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">timewindow</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<p>Second, prepare the signals for the estimation of teta.
The input (sig) provided for the estimation of teta contains a channel
each row and all the instants are contained in columns. For this reason,
the original content of the spike-triggered average has to be transposed.
After that, the 1D signals used to estimate teta are defined based on the
number of available channels.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sig</span> <span class="o">=</span> <span class="n">sta</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s2">&quot;col3&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sig</span> <span class="o">=</span> <span class="n">sig</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">],</span> <span class="p">:]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sig</span> <span class="o">=</span> <span class="n">sig</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">sig1</span> <span class="o">=</span> <span class="n">sig</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">sig2</span> <span class="o">=</span> <span class="n">sig</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">else</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">sig1</span> <span class="o">=</span> <span class="n">sig</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">sig2</span> <span class="o">=</span> <span class="n">sig</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>Third, estimate teta.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">initial_teta</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">find_teta</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">sig1</span><span class="o">=</span><span class="n">sig1</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">sig2</span><span class="o">=</span><span class="n">sig2</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">ied</span><span class="o">=</span><span class="n">emgfile</span><span class="p">[</span><span class="s2">&quot;IED&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">fsamp</span><span class="o">=</span><span class="n">emgfile</span><span class="p">[</span><span class="s2">&quot;FSAMP&quot;</span><span class="p">],</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-openhdemg.library.muap">
<span id="openhdemg-library-muap-module"></span><h2>openhdemg.library.muap module<a class="headerlink" href="#module-openhdemg.library.muap" title="Permalink to this heading"></a></h2>
<p>This module contains functions to produce and analyse MUs anction potentials
(MUAPs).</p>
<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.muap.diff">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.muap.</span></span><span class="sig-name descname"><span class="pre">diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sorted_rawemg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/muap.html#diff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.muap.diff" title="Permalink to this definition"></a></dt>
<dd><p>Calculate single differential (SD) of RAW_SIGNAL on matrix rows.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sorted_rawemg</strong> (<em>dict</em>) – A dict containing the sorted electrodes.
Every key of the dictionary represents a different column of the
matrix. Rows are stored in the dict as a pd.DataFrame.
Electrodes can be sorted with the function emg.sort_rawemg.
DEMUSE files should be also passed to emg.sort_rawemg since
this function, altough not sorting DEMUSE files, will still divide
the channels by matrix row.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>sd</strong> – A dict containing the double differential signal.
Every key of the dictionary represents a different column of the
matrix.
Rows are stored in the dict as a pd.DataFrame.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.muap.double_diff" title="openhdemg.library.muap.double_diff"><code class="xref py py-obj docutils literal notranslate"><span class="pre">double_diff</span></code></a></dt><dd><p>calculate double differential of RAW_SIGNAL on matrix rows.</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>The returned sd will contain one less matrix row.</p>
<p class="rubric">Examples</p>
<p>Calculate single differential of a DEMUSE file.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;DEMUSE&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_rawemg</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sort_rawemg</span><span class="p">(</span><span class="n">emgfile</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sd</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">sorted_rawemg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sd</span><span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="go">             1         2         3  ...        10        11  12</span>
<span class="go">0     -0.003052  0.005086 -0.009155 ...  0.001526  0.016785 NaN</span>
<span class="go">1     -0.008647  0.008138 -0.010173 ... -0.001017 -0.015259 NaN</span>
<span class="go">2     -0.005595  0.005595 -0.013733 ...  0.003560  0.007629 NaN</span>
<span class="go">3     -0.010681  0.007121 -0.009664 ... -0.001526 -0.015259 NaN</span>
<span class="go">4     -0.005595  0.005086 -0.011190 ...  0.001017  0.017293 NaN</span>
<span class="go">...         ...       ...       ... ...       ...       ...  ..</span>
<span class="go">63483 -0.000509  0.007121 -0.007629 ... -0.006612  0.022380 NaN</span>
<span class="go">63484 -0.005086  0.005595 -0.004578 ... -0.005595 -0.045776 NaN</span>
<span class="go">63485 -0.004069  0.001017 -0.003560 ... -0.005086 -0.005086 NaN</span>
<span class="go">63486 -0.002035  0.006104 -0.010681 ... -0.007121  0.020345 NaN</span>
<span class="go">63487 -0.008647  0.000000 -0.010681 ... -0.011190 -0.027466 NaN</span>
</pre></div>
</div>
<p>While alculating the single differential of an OTB file,
matrix code and orientation should be also specified.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_rawemg</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sort_rawemg</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">code</span><span class="o">=</span><span class="s2">&quot;GR08MM1305&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">orientation</span><span class="o">=</span><span class="mi">180</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sd</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">sorted_rawemg</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.muap.double_diff">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.muap.</span></span><span class="sig-name descname"><span class="pre">double_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sorted_rawemg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/muap.html#double_diff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.muap.double_diff" title="Permalink to this definition"></a></dt>
<dd><p>Calculate double differential (DD) of RAW_SIGNAL on matrix rows.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sorted_rawemg</strong> (<em>dict</em>) – A dict containing the sorted electrodes.
Every key of the dictionary represents a different column of the
matrix. Rows are stored in the dict as a pd.DataFrame.
Electrodes can be sorted with the function emg.sort_rawemg.
DEMUSE files should be also passed to emg.sort_rawemg since
this function, altough not sorting DEMUSE files, will still divide the
channels by matrix row.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>dd</strong> – A dict containing the double differential signal.
Every key of the dictionary represents a different column of the
matrix. Rows are stored in the dict as a pd.DataFrame.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.muap.diff" title="openhdemg.library.muap.diff"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diff</span></code></a></dt><dd><p>Calculate single differential of RAW_SIGNAL on matrix rows.</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>The returned dd will contain two less matrix rows.</p>
<p class="rubric">Examples</p>
<p>Calculate double differential.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;DEMUSE&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_rawemg</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sort_rawemg</span><span class="p">(</span><span class="n">emgfile</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dd</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">double_diff</span><span class="p">(</span><span class="n">sorted_rawemg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dd</span><span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="go">             2         3         4  ...            10        11  12</span>
<span class="go">0      0.008138 -0.014242  0.012716 ...  4.577637e-03  0.015259 NaN</span>
<span class="go">1      0.016785 -0.018311  0.022380 ...  8.138018e-03 -0.014242 NaN</span>
<span class="go">2      0.011190 -0.019328  0.021362 ...  1.780192e-02  0.004069 NaN</span>
<span class="go">3      0.017802 -0.016785  0.014750 ...  1.118978e-02 -0.013733 NaN</span>
<span class="go">4      0.010681 -0.016276  0.017802 ...  4.577637e-03  0.016276 NaN</span>
<span class="go">...         ...       ...       ... ...           ...       ...  ..</span>
<span class="go">63483  0.007629 -0.014750  0.011698 ... -4.656613e-10  0.028992 NaN</span>
<span class="go">63484  0.010681 -0.010173  0.011698 ... -2.543131e-03 -0.040181 NaN</span>
<span class="go">63485  0.005086 -0.004578  0.004069 ... -6.612142e-03  0.000000 NaN</span>
<span class="go">63486  0.008138 -0.016785  0.013733 ... -1.068115e-02  0.027466 NaN</span>
<span class="go">63487  0.008647 -0.010681  0.019836 ... -1.068115e-02 -0.016276 NaN</span>
</pre></div>
</div>
<p>While alculating the double differential of an OTB file,
matrix code and orientation should be also specified.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_rawemg</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sort_rawemg</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">code</span><span class="o">=</span><span class="s2">&quot;GR08MM1305&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">orientation</span><span class="o">=</span><span class="mi">180</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">dividebycolumn</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dd</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">double_diff</span><span class="p">(</span><span class="n">sorted_rawemg</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.muap.sta">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.muap.</span></span><span class="sig-name descname"><span class="pre">sta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sorted_rawemg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">firings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">50]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timewindow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/muap.html#sta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.muap.sta" title="Permalink to this definition"></a></dt>
<dd><p>Computes the spike-triggered average (STA) of every MUs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the emgfile.</p></li>
<li><p><strong>sorted_rawemg</strong> (<em>dict</em>) – A dict containing the sorted electrodes.
Every key of the dictionary represents a different column of the
matrix. Rows are stored in the dict as a pd.DataFrame.</p></li>
<li><p><strong>firings</strong> (<em>list</em><em> or </em><em>str {&quot;all&quot;}</em><em>, </em><em>default</em><em> [</em><em>0</em><em>, </em><em>50</em><em>]</em>) – <p>The range of firnings to be used for the STA.
If a MU has less firings than the range, the upper limit
is adjusted accordingly.
<code class="docutils literal notranslate"><span class="pre">all</span></code></p>
<blockquote>
<div><p>The STA is calculated over all the firings.</p>
</div></blockquote>
</p></li>
<li><p><strong>timewindow</strong> (<em>int</em><em>, </em><em>default 100</em>) – Timewindow to compute STA in milliseconds.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>sta_dict</strong> – dict containing a dict of STA (pd.DataFrame) for every MUs.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.muap.unpack_sta" title="openhdemg.library.muap.unpack_sta"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unpack_sta</span></code></a></dt><dd><p>build a common pd.DataFrame from the sta dict containing all the channels.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.muap.pack_sta" title="openhdemg.library.muap.pack_sta"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pack_sta</span></code></a></dt><dd><p>pack the pd.DataFrame containing STA to a dict.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.muap.st_muap" title="openhdemg.library.muap.st_muap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">st_muap</span></code></a></dt><dd><p>generate spike triggered MUs action potentials over the entire spike train of every MUs.</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>The returned file is called <code class="docutils literal notranslate"><span class="pre">sta_dict</span></code> for convention.</p>
<p class="rubric">Examples</p>
<p>Calculate STA of all the MUs in the emgfile on the first 25 firings
and in a 50 ms time-window.
Access the STA of the column 0 of the first MU (number 0).</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_rawemg</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sort_rawemg</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">code</span><span class="o">=</span><span class="s2">&quot;GR08MM1305&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">orientation</span><span class="o">=</span><span class="mi">180</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sta</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sta</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">sorted_rawemg</span><span class="o">=</span><span class="n">sorted_rawemg</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">firings</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">25</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">timewindow</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sta</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="go">     0          1          2  ...        10         11         12</span>
<span class="go">0   NaN  -7.527668  -7.141111 ... -1.464846 -21.606445 -14.180500</span>
<span class="go">1   NaN -16.662600 -14.038087 ...  2.868650 -19.246420 -15.218098</span>
<span class="go">2   NaN -21.443687 -15.116375 ...  5.615236 -16.052244 -13.854978</span>
<span class="go">3   NaN -17.822264  -9.989420 ...  6.876628 -12.451175 -12.268069</span>
<span class="go">4   NaN -14.567060  -8.748373 ... -1.403812 -14.241538 -16.703283</span>
<span class="go">..   ..        ...        ... ...       ...        ...        ...</span>
<span class="go">97  NaN  19.388836  25.166826 ... 39.591473  23.681641  19.653318</span>
<span class="go">98  NaN   8.870444  16.337074 ... 28.706865  20.548504   8.422853</span>
<span class="go">99  NaN  -1.037601   7.446290 ... 18.086752  16.276041   0.040688</span>
<span class="go">100 NaN  -2.766926   5.371094 ... 11.006674  14.261881  -0.712078</span>
<span class="go">101 NaN   3.214517   9.562176 ...  4.475910  10.742184  -0.284828</span>
</pre></div>
</div>
<p>Calculate STA of the differential signal on all the firings.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_rawemg</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sort_rawemg</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">code</span><span class="o">=</span><span class="s2">&quot;GR08MM1305&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">orientation</span><span class="o">=</span><span class="mi">180</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sd</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">sorted_rawemg</span><span class="o">=</span><span class="n">sorted_rawemg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sta</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sta</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">sorted_rawemg</span><span class="o">=</span><span class="n">sd</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">firings</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">timewindow</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sta</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="go">     1         2          3  ...         10         11         12</span>
<span class="go">0   NaN -0.769545  11.807394 ...   3.388641  14.423187   1.420190</span>
<span class="go">1   NaN -1.496154  11.146843 ...   4.637086  12.312718   3.408456</span>
<span class="go">2   NaN -3.263135   9.660598 ...   6.258748   9.478946   5.974706</span>
<span class="go">3   NaN -4.125159   9.257659 ...   6.532877   5.558562   7.708665</span>
<span class="go">4   NaN -4.234151   9.379863 ...   6.034157   1.506064   8.722610</span>
<span class="go">..   ..       ...        ... ...        ...        ...        ...</span>
<span class="go">97  NaN -6.126635   1.225329 ... -10.050324   1.522576  -9.568117</span>
<span class="go">98  NaN -6.565903   0.571378 ...  -8.669765   4.643692 -10.714180</span>
<span class="go">99  NaN -6.153056  -0.105689 ...  -6.836730   7.272696 -12.623180</span>
<span class="go">100 NaN -5.452869  -0.587892 ...  -7.411412   8.504627 -14.727043</span>
<span class="go">101 NaN -4.587545  -0.855417 ... -10.549041   9.802613 -15.820260</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.muap.st_muap">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.muap.</span></span><span class="sig-name descname"><span class="pre">st_muap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sorted_rawemg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timewindow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/muap.html#st_muap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.muap.st_muap" title="Permalink to this definition"></a></dt>
<dd><p>Generate spike triggered MUAPs of every MUs.</p>
<p>Generate single spike triggered (ST) MUs action potentials (MUAPs)
over the entire spike train of every MUs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the emgfile.</p></li>
<li><p><strong>sorted_rawemg</strong> (<em>dict</em>) – A dict containing the sorted electrodes.
Every key of the dictionary represents a different column of the
matrix. Rows are stored in the dict as a pd.DataFrame.</p></li>
<li><p><strong>timewindow</strong> (<em>int</em><em>, </em><em>default 50</em>) – Timewindow to compute ST MUAPs in milliseconds.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>stmuap</strong> – dict containing a dict of ST MUAPs (pd.DataFrame) for every MUs.
pd.DataFrames containing the ST MUAPs are organised based on matrix
rows (dict) and matrix channel.
For example, the ST MUAPs of the first MU (0), in the second electrode
of the matrix can be accessed as stmuap[0][“col0”][1].</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.muap.sta" title="openhdemg.library.muap.sta"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sta</span></code></a></dt><dd><p>computes the STA of every MUs.</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>The returned file is called <code class="docutils literal notranslate"><span class="pre">stmuap</span></code> for convention.</p>
<p class="rubric">Examples</p>
<p>Calculate the MUAPs of the differential signal.
Access the MUAPs of the first MU (number 0), channel 15 that is contained
in the second matrix column (“col1”).</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_rawemg</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sort_rawemg</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">code</span><span class="o">=</span><span class="s2">&quot;GR08MM1305&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">orientation</span><span class="o">=</span><span class="mi">180</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sd</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">sorted_rawemg</span><span class="o">=</span><span class="n">sorted_rawemg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmuap</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">st_muap</span><span class="p">(</span><span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span> <span class="n">sorted_rawemg</span><span class="o">=</span><span class="n">sd</span><span class="p">,</span> <span class="n">timewindow</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmuap</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;col1&quot;</span><span class="p">][</span><span class="mi">15</span><span class="p">]</span>
<span class="go">           0          1          2   ...        151         152         153</span>
<span class="go">0   -14.750162 -26.957193   6.103516 ...  23.905434    4.069008  150.553375</span>
<span class="go">1    -9.155273 -22.379557  12.715660 ...   8.138023    0.000000  133.260086</span>
<span class="go">2    -4.069010 -12.207031  17.293289 ...  -6.612144    6.612141   74.768066</span>
<span class="go">3     1.525879  -6.612143  22.379562 ... -25.939949   21.362305  -14.750168</span>
<span class="go">4     3.051758  -4.577637  24.414062 ... -35.603844   34.586590  -83.923347</span>
<span class="go">..         ...        ...        ... ...        ...         ...         ...</span>
<span class="go">97    9.155273 -24.922688  43.233238 ... -92.569984 -107.320145  -40.181477</span>
<span class="go">98   -2.543133 -14.241535  28.483074 ...-102.233887  -68.155922  -19.836430</span>
<span class="go">99  -23.905437 -13.732906  15.767414 ... -89.518234  -42.215984  -10.681152</span>
<span class="go">100 -52.388512 -20.853680  14.241537 ... -71.716309  -26.448566    0.000000</span>
<span class="go">101 -61.543785 -16.784668  21.362305 ... -52.388504   -3.560385    6.103516</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.muap.unpack_sta">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.muap.</span></span><span class="sig-name descname"><span class="pre">unpack_sta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sta_mu1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/muap.html#unpack_sta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.muap.unpack_sta" title="Permalink to this definition"></a></dt>
<dd><p>Build a common pd.DataFrame from the sta_dict containing all the channels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sta_mu1</strong> (<em>dict</em>) – A dict containing the STA of the MU.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>df1</strong> – A pd.DataFrame containing the STA of the MU
(including the empty channel).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.muap.sta" title="openhdemg.library.muap.sta"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sta</span></code></a></dt><dd><p>computes the STA of every MUs.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.muap.pack_sta" title="openhdemg.library.muap.pack_sta"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pack_sta</span></code></a></dt><dd><p>pack the pd.DataFrame containing STA to a dict.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.muap.pack_sta">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.muap.</span></span><span class="sig-name descname"><span class="pre">pack_sta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_sta1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/muap.html#pack_sta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.muap.pack_sta" title="Permalink to this definition"></a></dt>
<dd><p>Pack the pd.DataFrame containing STA to a dict.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df_sta1</strong> (<em>A pd.DataFrame containing the STA</em><em> of </em><em>the MU</em>) – </p></li>
<li><p><strong>channel</strong><strong>)</strong><strong>.</strong> (<em>(</em><em>including the empty</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>packed_sta</strong> – dict containing STA of the input pd.DataFrame divided by matrix column.
Dict columns are “col0”, col1”, “col2”, “col3”, “col4”.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.muap.sta" title="openhdemg.library.muap.sta"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sta</span></code></a></dt><dd><p>computes the STA of every MUs.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.muap.unpack_sta" title="openhdemg.library.muap.unpack_sta"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unpack_sta</span></code></a></dt><dd><p>build a common pd.DataFrame from the sta dict containing all the channels.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.muap.align_by_xcorr">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.muap.</span></span><span class="sig-name descname"><span class="pre">align_by_xcorr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sta_mu1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sta_mu2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">finalduration</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/muap.html#align_by_xcorr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.muap.align_by_xcorr" title="Permalink to this definition"></a></dt>
<dd><p>Align the STA of 2 MUs by cross-correlation.</p>
<p>Any pre-processing of the RAW_SIGNAL
(i.e., normal, differential or double differential)
can be passed as long as the two inputs have same shape.
Since the returned STA is cut based on finalduration,
the input STA should account for this.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sta_mu1</strong> (<em>dict</em>) – A dictionary containing the STA of the first MU.</p></li>
<li><p><strong>sta_mu2</strong> (<em>dict</em>) – A dictionary containing the STA of the second MU.</p></li>
<li><p><strong>finalduration</strong> (<em>float</em><em>, </em><em>default 0.5</em>) – Duration of the aligned STA compared to the original
in percent. (e.g., 0.5 corresponds to 50%).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>aligned_sta1</strong> (<em>dict</em>) – A dictionary containing the aligned and STA of the first MU
with the final expected timewindow
(duration of sta_mu1 * finalduration).</p></li>
<li><p><strong>aligned_sta2</strong> (<em>dict</em>) – A dictionary containing the aligned and STA of the second MU
with the final expected timewindow
(duration of sta_mu1 * finalduration).</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.muap.sta" title="openhdemg.library.muap.sta"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sta</span></code></a></dt><dd><p>computes the STA of every MUs.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">norm_twod_xcorr</span></code></dt><dd><p>normalised 2-dimensional cross-correlation of STAs of two MUS.</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>STAs are aligned by a common lag/delay for the entire matrix and not
channel by channel because this might lead to misleading results.</p>
<p class="rubric">Examples</p>
<p>Align two MUs with a final duration of 50% the original one.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_rawemg</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sort_rawemg</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">code</span><span class="o">=</span><span class="s2">&quot;GR08MM1305&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">orientation</span><span class="o">=</span><span class="mi">180</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sta</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sta</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">sorted_rawemg</span><span class="o">=</span><span class="n">sorted_rawemg</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">timewindow</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aligned_sta1</span><span class="p">,</span> <span class="n">aligned_sta2</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">align_by_xcorr</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">sta_mu1</span><span class="o">=</span><span class="n">sta</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">sta_mu2</span><span class="o">=</span><span class="n">sta</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">finalduration</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aligned_sta1</span><span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="go">     0          1          2  ...        10         11         12</span>
<span class="go">0   NaN -10.711670  -7.008868 ... 21.809900 -33.447262 -21.545408</span>
<span class="go">1   NaN  -5.584714  -2.380372 ... 22.664387 -33.081059 -18.931072</span>
<span class="go">2   NaN  -4.262290  -1.139323 ... 23.244226 -33.020020 -17.456057</span>
<span class="go">3   NaN  -4.638671  -1.078290 ... 23.111980 -34.118645 -18.147787</span>
<span class="go">4   NaN  -7.405599  -4.018145 ... 22.888189 -35.797115 -22.247314</span>
<span class="go">..   ..        ...        ... ...       ...        ...        ...</span>
<span class="go">97  NaN   6.764731  13.081865 ... 30.954998  39.672852  42.429604</span>
<span class="go">98  NaN   4.455567  10.467529 ... 31.311037  41.280106  44.403072</span>
<span class="go">99  NaN   0.356039   6.856283 ... 30.436195  43.701172  46.142574</span>
<span class="go">100 NaN  -2.960206   4.872639 ... 30.008953  44.342041  46.366371</span>
<span class="go">101 NaN  -7.008870   1.708984 ... 25.634764  40.100101  43.009445</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.muap.tracking">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.muap.</span></span><span class="sig-name descname"><span class="pre">tracking</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emgfile2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">firings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timewindow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matrixcode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'GR08MM1305'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orientation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">180</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_belowthreshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/muap.html#tracking"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.muap.tracking" title="Permalink to this definition"></a></dt>
<dd><p>Track MUs across two different files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emgfile1</strong> (<em>dict</em>) – The dictionary containing the first emgfile.</p></li>
<li><p><strong>emgfile2</strong> (<em>dict</em>) – The dictionary containing the second emgfile.</p></li>
<li><p><strong>firings</strong> (<em>list</em><em> or </em><em>str {&quot;all&quot;}</em><em>, </em><em>default &quot;all&quot;</em>) – <p>The range of firnings to be used for the STA.
If a MU has less firings than the range, the upper limit
is adjusted accordingly.
<code class="docutils literal notranslate"><span class="pre">all</span></code></p>
<blockquote>
<div><p>The STA is calculated over all the firings.</p>
</div></blockquote>
<p>A list can be passed as [start, stop] e.g., [0, 25]
to compute the STA on the first 25 firings.</p>
</p></li>
<li><p><strong>timewindow</strong> (<em>int</em><em>, </em><em>default 25</em>) – Timewindow to compute STA in milliseconds.</p></li>
<li><p><strong>threshold</strong> (<em>float</em><em>, </em><em>default 0.8</em>) – The 2-dimensional cross-correlation minimum value
to consider two MUs to be the same. Ranges 0-1.</p></li>
<li><p><strong>matrixcode</strong> (<em>str {&quot;GR08MM1305&quot;</em><em>, </em><em>&quot;GR04MM1305&quot;</em><em>, </em><em>&quot;GR10MM0808&quot;}</em><em>, </em><em>default &quot;GR08MM1305&quot;</em>) – The code of the matrix used.</p></li>
<li><p><strong>orientation</strong> (<em>int {0</em><em>, </em><em>180}</em><em>, </em><em>default 180</em>) – Orientation in degree of the matrix (same as in OTBiolab).
E.g. 180 corresponds to the matrix connection toward the user.</p></li>
<li><p><strong>exclude_belowthreshold</strong> (<em>bool</em><em>, </em><em>default True</em>) – Whether to exclude results with XCC below threshold.</p></li>
<li><p><strong>filter</strong> (<em>bool</em><em>, </em><em>default True</em>) – If true, when the same MU has a match of XCC &gt; threshold with
multiple MUs, only the match with the highest XCC is returned.</p></li>
<li><p><strong>show</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether to plot ste STA of pairs of MUs with XCC above threshold.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>tracking_res</strong> – The results of the tracking including the MU from file 1,
MU from file 2 and the normalised cross-correlation value (XCC).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
<dt class="field-even">Warns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>UserWarning</strong> – If the number of plots to show exceeds that of available cores.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.muap.sta" title="openhdemg.library.muap.sta"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sta</span></code></a></dt><dd><p>computes the STA of every MUs.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">norm_twod_xcorr</span></code></dt><dd><p>normalised 2-dimensional cross-correlation of STAs of two MUS.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.muap.remove_duplicates_between" title="openhdemg.library.muap.remove_duplicates_between"><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_duplicates_between</span></code></a></dt><dd><p>remove duplicated MUs across two different files based on STA.</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>Parallel processing can improve performances by 5-10 times compared to
serial processing. In this function, parallel processing has been
implemented for the tasks involving 2-dimensional cross-correlation, sta
and plotting.</p>
<p class="rubric">Examples</p>
<p>Track MUs between two OTB files and show the filtered results.
If loading a DEMUSE file, matrixcode and orientation can be ignored.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile1</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile2</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tracking_res</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">tracking</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile1</span><span class="o">=</span><span class="n">emgfile1</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">emgfile2</span><span class="o">=</span><span class="n">emgfile2</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">firings</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">timewindow</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">threshold</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">matrixcode</span><span class="o">=</span><span class="s2">&quot;GR08MM1305&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">orientation</span><span class="o">=</span><span class="mi">180</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">exclude_belowthreshold</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="nb">filter</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">show</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">    MU_file1  MU_file2       XCC</span>
<span class="go">0          0         3  0.820068</span>
<span class="go">1          2         4  0.860272</span>
<span class="go">2          4         8  0.857346</span>
<span class="go">3          5         0  0.878373</span>
<span class="go">4          6         9  0.877321</span>
<span class="go">5          7         1  0.823371</span>
<span class="go">6          9        13  0.873388</span>
<span class="go">7         11         5  0.862537</span>
<span class="go">8         19        10  0.802635</span>
<span class="go">9         21        14  0.896419</span>
<span class="go">10        22        16  0.836356</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.muap.remove_duplicates_between">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.muap.</span></span><span class="sig-name descname"><span class="pre">remove_duplicates_between</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emgfile2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">firings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timewindow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matrixcode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'GR08MM1305'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orientation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">180</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">which</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'munumber'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/muap.html#remove_duplicates_between"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.muap.remove_duplicates_between" title="Permalink to this definition"></a></dt>
<dd><p>Remove duplicated MUs across two different files based on STA.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emgfile1</strong> (<em>dict</em>) – The dictionary containing the first emgfile.</p></li>
<li><p><strong>emgfile2</strong> (<em>dict</em>) – The dictionary containing the second emgfile.</p></li>
<li><p><strong>firings</strong> (<em>list</em><em> or </em><em>str {&quot;all&quot;}</em><em>, </em><em>default &quot;all&quot;</em>) – <p>The range of firnings to be used for the STA.
If a MU has less firings than the range, the upper limit
is adjusted accordingly.
<code class="docutils literal notranslate"><span class="pre">all</span></code></p>
<blockquote>
<div><p>The STA is calculated over all the firings.</p>
</div></blockquote>
<p>A list can be passed as [start, stop] e.g., [0, 25]
to compute the STA on the first 25 firings.</p>
</p></li>
<li><p><strong>timewindow</strong> (<em>int</em><em>, </em><em>default 25</em>) – Timewindow to compute STA in milliseconds.</p></li>
<li><p><strong>threshold</strong> (<em>float</em><em>, </em><em>default 0.9</em>) – The 2-dimensional cross-correlation minimum value
to consider two MUs to be the same. Ranges 0-1.</p></li>
<li><p><strong>matrixcode</strong> (<em>str {&quot;GR08MM1305&quot;</em><em>, </em><em>&quot;GR04MM1305&quot;</em><em>, </em><em>&quot;GR10MM0808&quot;}</em><em>, </em><em>default &quot;GR08MM1305&quot;</em>) – The code of the matrix used.</p></li>
<li><p><strong>orientation</strong> (<em>int {0</em><em>, </em><em>180}</em><em>, </em><em>default 180</em>) – Orientation in degree of the matrix (same as in OTBiolab).
E.g. 180 corresponds to the matrix connection toward the user.</p></li>
<li><p><strong>filter</strong> (<em>bool</em><em>, </em><em>default True</em>) – If true, when the same MU has a match of XCC &gt; threshold with
multiple MUs, only the match with the highest XCC is returned.</p></li>
<li><p><strong>show</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether to plot ste STA of pairs of MUs with XCC above threshold.</p></li>
<li><p><strong>which</strong> (<em>str {&quot;munumber&quot;</em><em>, </em><em>&quot;PNR&quot;</em><em>, </em><em>&quot;SIL&quot;}</em>) – <p>How to remove the duplicated MUs.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">munumber</span></code></dt><dd><p>Duplicated MUs are removed from the file with more MUs.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">PNR</span></code></dt><dd><p>The MU with the lowest PNR is removed.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">SIL</span></code></dt><dd><p>The MU with the lowest SIL is removed.</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>emgfile1, emgfile2</strong> – The original emgfiles without the duplicated MUs.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.muap.sta" title="openhdemg.library.muap.sta"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sta</span></code></a></dt><dd><p>computes the STA of every MUs.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">norm_twod_xcorr</span></code></dt><dd><p>normalised 2-dimensional cross-correlation of STAs of two MUS.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.muap.tracking" title="openhdemg.library.muap.tracking"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tracking</span></code></a></dt><dd><p>track MUs across two different files.</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>Remove duplicated MUs between two OTB files and save the emgfiles
without duplicates. The duplicates are removed from the file with
more MUs.
If loading a DEMUSE file, matrixcode and orientation can be ignored.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile1</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile2</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile1</span><span class="p">,</span> <span class="n">emgfile2</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">remove_duplicates_between</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile1</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">emgfile2</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">firings</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">timewindow</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">threshold</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">matrixcode</span><span class="o">=</span><span class="s2">&quot;GR08MM1305&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">orientation</span><span class="o">=</span><span class="mi">180</span><span class="p">,</span>
<span class="gp">... </span>    <span class="nb">filter</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">show</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">which</span><span class="o">=</span><span class="s2">&quot;munumber&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emg</span><span class="o">.</span><span class="n">asksavefile</span><span class="p">(</span><span class="n">emgfile1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emg</span><span class="o">.</span><span class="n">asksavefile</span><span class="p">(</span><span class="n">emgfile2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.muap.xcc_sta">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.muap.</span></span><span class="sig-name descname"><span class="pre">xcc_sta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sta</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/muap.html#xcc_sta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.muap.xcc_sta" title="Permalink to this definition"></a></dt>
<dd><p>Cross-correlation between the STA of adjacent channels.</p>
<p>Calculate the normalised cross-correlation coefficient (XCC) between the
MUs action potential shapes on adjacent channels.
The XCC will be calculated for all the MUs and all the pairs of electrodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sta</strong> (<em>dict</em>) – The dict containing the spike-triggered average (STA) of all the MUs
computed with the function sta().</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>xcc_sta</strong> – A dict containing the XCC for all the pairs of channels and all the
MUs. This dict is organised as the sta dict.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Calculate the XCC of adjacent channels of the double differential
derivation as done to calculate MUs conduction velocity.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_rawemg</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sort_rawemg</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">code</span><span class="o">=</span><span class="s2">&quot;GR08MM1305&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">orientation</span><span class="o">=</span><span class="mi">180</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">dividebycolumn</span><span class="o">=</span><span class="kc">True</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dd</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">double_diff</span><span class="p">(</span><span class="n">sorted_rawemg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sta</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sta</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">sorted_rawemg</span><span class="o">=</span><span class="n">dd</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">firings</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">timewindow</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xcc_sta</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">xcc_sta</span><span class="p">(</span><span class="n">sta</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="openhdemg.library.muap.MUcv_gui">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">openhdemg.library.muap.</span></span><span class="sig-name descname"><span class="pre">MUcv_gui</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sorted_rawemg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_firings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">50]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">muaps_timewindow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/muap.html#MUcv_gui"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.muap.MUcv_gui" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Graphical user interface for the estimation of MUs conduction velocity.</p>
<p>GUI for the estimation of MUs conduction velocity (CV) and amplitude of
the action potentials (root mean square - RMS).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the first emgfile.</p></li>
<li><p><strong>sorted_rawemg</strong> (<em>dict</em>) – A dict containing the sorted electrodes.
Every key of the dictionary represents a different column of the
matrix.
Rows are stored in the dict as a pd.DataFrame.</p></li>
<li><p><strong>n_firings</strong> (<em>list</em><em> or </em><em>str {&quot;all&quot;}</em><em>, </em><em>default</em><em> [</em><em>0</em><em>, </em><em>50</em><em>]</em>) – <p>The range of firnings to be used for the STA.
If a MU has less firings than the range, the upper limit
is adjusted accordingly.
<code class="docutils literal notranslate"><span class="pre">all</span></code></p>
<blockquote>
<div><p>The STA is calculated over all the firings.</p>
</div></blockquote>
</p></li>
<li><p><strong>muaps_timewindow</strong> (<em>int</em><em>, </em><em>default 50</em>) – Timewindow to compute ST MUAPs in milliseconds.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Call the GUI.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_rawemg</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sort_rawemg</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">code</span><span class="o">=</span><span class="s2">&quot;GR08MM1305&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">orientation</span><span class="o">=</span><span class="mi">180</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">dividebycolumn</span><span class="o">=</span><span class="kc">True</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gui</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">MUcv_gui</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">sorted_rawemg</span><span class="o">=</span><span class="n">sorted_rawemg</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">n_firings</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">50</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">muaps_timewindow</span><span class="o">=</span><span class="mi">50</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="openhdemg.library.muap.MUcv_gui.gui_plot">
<span class="sig-name descname"><span class="pre">gui_plot</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/muap.html#MUcv_gui.gui_plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.muap.MUcv_gui.gui_plot" title="Permalink to this definition"></a></dt>
<dd><p>Plot the MUAPs used to estimate CV.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openhdemg.library.muap.MUcv_gui.copy_to_clipboard">
<span class="sig-name descname"><span class="pre">copy_to_clipboard</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/muap.html#MUcv_gui.copy_to_clipboard"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.muap.MUcv_gui.copy_to_clipboard" title="Permalink to this definition"></a></dt>
<dd><p>Copy the dataframe to clipboard in csv format.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openhdemg.library.muap.MUcv_gui.compute_cv">
<span class="sig-name descname"><span class="pre">compute_cv</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/muap.html#MUcv_gui.compute_cv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.muap.MUcv_gui.compute_cv" title="Permalink to this definition"></a></dt>
<dd><p>Compute conduction velocity.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-openhdemg.library.openfiles">
<span id="openhdemg-library-openfiles-module"></span><h2>openhdemg.library.openfiles module<a class="headerlink" href="#module-openhdemg.library.openfiles" title="Permalink to this heading"></a></h2>
<section id="description">
<h3>Description<a class="headerlink" href="#description" title="Permalink to this heading"></a></h3>
<blockquote>
<div><p>This module contains all the functions that are necessary to open or save
MATLAB (.mat), JSON (.json) or custom (.csv) files.
MATLAB files are used to store data from the DEMUSE and the OTBiolab+
software while JSON files are used to save and load files from this
library.
The choice of saving files in the open standard JSON file format was
preferred over the MATLAB file format since it has a better integration
with Python and has a very high cross-platform compatibility.</p>
<p>Some functions contained in this file are called internally and
should not be exposed to the final user.
Functions should be exposed in the __init__ file as:</p>
<blockquote>
<div><dl class="simple">
<dt>from openhdemg.openfiles import (</dt><dd><p>emg_from_otb,
emg_from_demuse,
refsig_from_otb,
emg_from_customcsv,
save_json_emgfile,
emg_from_json,
askopenfile,
asksavefile,</p>
</dd>
</dl>
<p>)</p>
</div></blockquote>
</div></blockquote>
</section>
<section id="function-s-scope">
<h3>Function’s scope<a class="headerlink" href="#function-s-scope" title="Permalink to this heading"></a></h3>
<blockquote>
<div><dl class="simple">
<dt>emg_from_otb and emg_from_demuse :</dt><dd><p>Used to load .mat files coming from the DEMUSE or the OTBiolab+
software. Demuse has a fixed file structure while the OTB file, in
order to be compatible with this library should be exported with a
strict structure as described in the function emg_from_otb.
In both cases, the input file is a .mat file.</p>
</dd>
<dt>refsig_from_otb :</dt><dd><p>Used to load files from the OTBiolab+ software that contain only
the REF_SIGNAL.</p>
</dd>
<dt>emg_from_customcsv :</dt><dd><p>Used to load custom file formats contained in .csv files.</p>
</dd>
<dt>save_json_emgfile, emg_from_json :</dt><dd><p>Used to save the working file to a .json file or to load the .json
file.</p>
</dd>
<dt>askopenfile, asksavefile :</dt><dd><p>A quick GUI implementation that allows users to select the file to
open or save.</p>
</dd>
</dl>
</div></blockquote>
<p class="rubric">Notes</p>
<dl class="simple">
<dt>Once opened, the file is returned as a dict with keys:</dt><dd><p>“SOURCE” : source of the file (i.e., “DEMUSE”, “OTB”, “custom”)
“RAW_SIGNAL” : the raw EMG signal.
“REF_SIGNAL” : the reference signal
“PNR” : pulse to noise ratio
“SIL” : silouette score
“IPTS” : pulse train
“MUPULSES” : instant of firing
“FSAMP” : sampling frequency
“IED” : interelectrode distance
“EMG_LENGTH” : length of the emg file (in samples)
“NUMBER_OF_MUS” : total number of MUs
“BINARY_MUS_FIRING” : binary representation of MUs firings</p>
</dd>
<dt>The only exception when OTB files are loaded with just the reference signal:</dt><dd><p>“SOURCE”: source of the file (i.e., “OTB_refsig”)
“FSAMP”: sampling frequency
“REF_SIGNAL”: the reference signal</p>
</dd>
</dl>
<p>Additional informations can be found in the info module (emg.info()) and in
the function’s description.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.openfiles.emg_from_demuse">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.openfiles.</span></span><span class="sig-name descname"><span class="pre">emg_from_demuse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/openfiles.html#emg_from_demuse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.openfiles.emg_from_demuse" title="Permalink to this definition"></a></dt>
<dd><p>Import the .mat file used in DEMUSE.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filepath</strong> (<em>str</em><em> or </em><em>Path</em>) – The directory and the name of the file to load
(including file extension .mat).
This can be a simple string, the use of Path is not necessary.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>emgfile</strong> – A dictionary containing all the useful variables.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.openfiles.emg_from_otb" title="openhdemg.library.openfiles.emg_from_otb"><code class="xref py py-obj docutils literal notranslate"><span class="pre">emg_from_otb</span></code></a></dt><dd><p>import the .mat file exportable by OTBiolab+.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.openfiles.refsig_from_otb" title="openhdemg.library.openfiles.refsig_from_otb"><code class="xref py py-obj docutils literal notranslate"><span class="pre">refsig_from_otb</span></code></a></dt><dd><p>import REF_SIGNAL in the .mat file exportable by OTBiolab+.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.openfiles.emg_from_customcsv" title="openhdemg.library.openfiles.emg_from_customcsv"><code class="xref py py-obj docutils literal notranslate"><span class="pre">emg_from_customcsv</span></code></a></dt><dd><p>Import custom data from a .csv file.</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>The returned file is called <code class="docutils literal notranslate"><span class="pre">emgfile</span></code> for convention.</p>
<p>The demuse file contains 65 raw EMG channels (1 empty) instead of 64
(as for OTB matrix standards) in the case of a 64 electrodes matrix.</p>
<dl>
<dt>Structure of the emgfile:</dt><dd><dl class="simple">
<dt>emgfile = {</dt><dd><p>“SOURCE”: SOURCE,
“FILENAME”: FILENAME,
“RAW_SIGNAL”: RAW_SIGNAL,
“REF_SIGNAL”: REF_SIGNAL,
“PNR”: PNR,
“SIL”: SIL
“IPTS”: IPTS,
“MUPULSES”: MUPULSES,
“FSAMP”: FSAMP,
“IED”: IED,
“EMG_LENGTH”: EMG_LENGTH,
“NUMBER_OF_MUS”: NUMBER_OF_MUS,
“BINARY_MUS_FIRING”: BINARY_MUS_FIRING,</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>For an extended explanation of the imported emgfile:
&gt;&gt;&gt; import openhdemg as emg
&gt;&gt;&gt; emgfile = emg.emg_from_demuse(filepath=”path/filename.mat”)
&gt;&gt;&gt; info = emg.info()
&gt;&gt;&gt; info.data(emgfile)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.openfiles.get_otb_refsignal">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.openfiles.</span></span><span class="sig-name descname"><span class="pre">get_otb_refsignal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refsig</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/openfiles.html#get_otb_refsignal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.openfiles.get_otb_refsignal" title="Permalink to this definition"></a></dt>
<dd><p>Extract the REF_SIGNAL from the OTB .mat file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – A pd.DataFrame containing all the informations extracted
from the OTB .mat file.</p></li>
<li><p><strong>refsig</strong> (<em>list</em>) – Whether to seacrh also for the REF_SIGNAL and whether to load the full
or sub-sampled one. The list is composed as [bool, str]. str can be
“fullsampled” or “subsampled”.
Please read the documentation of emg_from_otb.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>REF_SIGNAL</strong> – A pd.DataFrame containing the requested variable
or np.nan if the variable was not found.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame or np.nan</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.openfiles.get_otb_decomposition">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.openfiles.</span></span><span class="sig-name descname"><span class="pre">get_otb_decomposition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/openfiles.html#get_otb_decomposition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.openfiles.get_otb_decomposition" title="Permalink to this definition"></a></dt>
<dd><p>Extract the IPTS and BINARY_MUS_FIRING from the OTB .mat file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df</strong> (<em>pd.DataFrame</em>) – A pd.DataFrame containing all the informations extracted
from the OTB .mat file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>IPTS, BINARY_MUS_FIRING</strong> – pd.DataFrames containing the requested variables
or np.nan if the variables were not found.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame or np.nan</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.openfiles.get_otb_mupulses">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.openfiles.</span></span><span class="sig-name descname"><span class="pre">get_otb_mupulses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">binarymusfiring</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/openfiles.html#get_otb_mupulses"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.openfiles.get_otb_mupulses" title="Permalink to this definition"></a></dt>
<dd><p>Extract the MUPULSES from the OTB .mat file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>binarymusfiring</strong> (<em>pd.DataFrame</em>) – A pd.DataFrame containing the binary representation of MUs firings.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>MUPULSES</strong> – A list of ndarrays containing the firing time of each MU.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.openfiles.get_otb_ied">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.openfiles.</span></span><span class="sig-name descname"><span class="pre">get_otb_ied</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/openfiles.html#get_otb_ied"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.openfiles.get_otb_ied" title="Permalink to this definition"></a></dt>
<dd><p>Extract the IED from the OTB .mat file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df</strong> (<em>pd.DataFrame</em>) – A pd.DataFrame containing all the informations extracted
from the OTB .mat file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>IED</strong> – The interelectrode distance in millimeters.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.openfiles.get_otb_rawsignal">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.openfiles.</span></span><span class="sig-name descname"><span class="pre">get_otb_rawsignal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/openfiles.html#get_otb_rawsignal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.openfiles.get_otb_rawsignal" title="Permalink to this definition"></a></dt>
<dd><p>Extract the IED from the OTB .mat file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df</strong> (<em>pd.DataFrame</em>) – A pd.DataFrame containing all the informations extracted
from the OTB .mat file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>RAW_SIGNAL</strong> – A pd.DataFrame containing the RAW_SIGNAL.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.openfiles.emg_from_otb">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.openfiles.</span></span><span class="sig-name descname"><span class="pre">emg_from_otb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refsig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[True,</span> <span class="pre">'fullsampled']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'1.5.8.0'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/openfiles.html#emg_from_otb"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.openfiles.emg_from_otb" title="Permalink to this definition"></a></dt>
<dd><p>Import the .mat file exportable by OTBiolab+.</p>
<p>This function is used to import the .mat file exportable by the OTBiolab+
software as a dictionary of Python objects (mainly pandas dataframes).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> (<em>str</em><em> or </em><em>Path</em>) – The directory and the name of the file to load
(including file extension .mat).
This can be a simple string, the use of Path is not necessary.</p></li>
<li><p><strong>ext_factor</strong> (<em>int</em><em>, </em><em>default 8</em>) – The extension factor used for the decomposition in OTbiolab+.</p></li>
<li><p><strong>refsig</strong> (<em>list</em><em>, </em><em>default</em><em> [</em><em>True</em><em>, </em><em>&quot;fullsampled&quot;</em><em>]</em>) – Whether to seacrh also for the REF_SIGNAL and whether to load the full
or sub-sampled one. The list is composed as [bool, str]. str can be
“fullsampled” or “subsampled”. Please read notes section.</p></li>
<li><p><strong>version</strong> (<em>str</em><em>, </em><em>default &quot;1.5.8.0&quot;</em>) – <p>Version of the OTBiolab+ software used (4 points).
Tested versions are:</p>
<blockquote>
<div><p>”1.5.3.0”,
“1.5.4.0”,
“1.5.5.0”,
“1.5.6.0”,
“1.5.7.2”,
“1.5.7.3”,
“1.5.8.0”,</p>
</div></blockquote>
<p>If your specific version is not available in the tested versions,
trying with the closer one usually works, but please double check the
results.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>emgfile</strong> – A dictionary containing all the useful variables.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.openfiles.refsig_from_otb" title="openhdemg.library.openfiles.refsig_from_otb"><code class="xref py py-obj docutils literal notranslate"><span class="pre">refsig_from_otb</span></code></a></dt><dd><p>import REF_SIGNAL in the .mat file exportable from OTBiolab+.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.openfiles.emg_from_demuse" title="openhdemg.library.openfiles.emg_from_demuse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">emg_from_demuse</span></code></a></dt><dd><p>import the .mat file used in DEMUSE.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.openfiles.emg_from_customcsv" title="openhdemg.library.openfiles.emg_from_customcsv"><code class="xref py py-obj docutils literal notranslate"><span class="pre">emg_from_customcsv</span></code></a></dt><dd><p>Import custom data from a .csv file.</p>
</dd>
</dl>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – When a wrong value is passed to version=.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The returned file is called <code class="docutils literal notranslate"><span class="pre">emgfile</span></code> for convention.</p>
<p>The input .mat file exported from the OTBiolab+ software should have a
specific content:
- refsig signal is optional but, if present, there should be the</p>
<blockquote>
<div><p>fullsampled or the subsampled version (in OTBioLab+ the “performed
path” refers to the subsampled signal, the “acquired data” to the
fullsampled signal), REF_SIGNAL is expected to be expressed as % of
the MVC (but not compulsory).</p>
</div></blockquote>
<ul class="simple">
<li><dl class="simple">
<dt>Both the IPTS (‘Source for decomposition…’ in OTBioLab+) and the</dt><dd><p>BINARY_MUS_FIRING (‘Decomposition of…’ in OTBioLab+) should be
present.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>The raw EMG signal should be present (it has no specific name in</dt><dd><p>OTBioLab+) with all the channels. Don’t exclude unwanted channels
before exporting the .mat file.</p>
</dd>
</dl>
</li>
<li><p>NO OTHER ELEMENTS SHOULD BE PRESENT!</p></li>
</ul>
<dl>
<dt>Structure of the returned emgfile:</dt><dd><dl class="simple">
<dt>emgfile = {</dt><dd><p>“SOURCE”: SOURCE,
“FILENAME”: FILENAME,
“RAW_SIGNAL”: RAW_SIGNAL,
“REF_SIGNAL”: REF_SIGNAL,
“PNR”: PNR,
“SIL”: SIL,
“IPTS”: IPTS,
“MUPULSES”: MUPULSES,
“FSAMP”: FSAMP,
“IED”: IED,
“EMG_LENGTH”: EMG_LENGTH,
“NUMBER_OF_MUS”: NUMBER_OF_MUS,
“BINARY_MUS_FIRING”: BINARY_MUS_FIRING,</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>For an extended explanation of the imported emgfile use:
&gt;&gt;&gt; import openhdemg as emg
&gt;&gt;&gt; emgfile = emg.emg_from_otb(filepath=”path/filename.mat”)
&gt;&gt;&gt; info = emg.info()
&gt;&gt;&gt; info.data(emgfile)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.openfiles.refsig_from_otb">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.openfiles.</span></span><span class="sig-name descname"><span class="pre">refsig_from_otb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refsig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fullsampled'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'1.5.8.0'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/openfiles.html#refsig_from_otb"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.openfiles.refsig_from_otb" title="Permalink to this definition"></a></dt>
<dd><p>Import REF_SIGNAL in the .mat file exportable by OTBiolab+.</p>
<p>This function is used to import the .mat file exportable by the OTBiolab+
software as a dictionary of Python objects (mainly pandas dataframes).
Compared to the function emg_from_otb, this function only imports the
REF_SIGNAL and, therefore, it can be used for special cases where only the
REF_SIGNAL is necessary. This will allow a faster execution of the script
and to avoid exceptions for missing data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> (<em>str</em><em> or </em><em>Path</em>) – The directory and the name of the file to load (including file
extension .mat). This can be a simple string, the use of Path is not
necessary.</p></li>
<li><p><strong>refsig</strong> (<em>str {&quot;fullsampled&quot;</em><em>, </em><em>&quot;subsampled&quot;}</em><em>, </em><em>default &quot;fullsampled&quot;</em>) – Whether to load the full or sub-sampled one.
Please read notes section.</p></li>
<li><p><strong>version</strong> (<em>str</em><em>, </em><em>default &quot;1.5.8.0&quot;</em>) – <p>Version of the OTBiolab+ software used (4 points).
Tested versions are:</p>
<blockquote>
<div><p>”1.5.3.0”,
“1.5.4.0”,
“1.5.5.0”,
“1.5.6.0”,
“1.5.7.2”,
“1.5.7.3”,
“1.5.8.0”,</p>
</div></blockquote>
<p>If your specific version is not available in the tested versions,
trying with the closer one usually works, but please double check the
results.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>emg_refsig</strong> – A dictionary containing all the useful variables.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.openfiles.emg_from_otb" title="openhdemg.library.openfiles.emg_from_otb"><code class="xref py py-obj docutils literal notranslate"><span class="pre">emg_from_otb</span></code></a></dt><dd><p>import the .mat file exportable by OTBiolab+.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.openfiles.emg_from_demuse" title="openhdemg.library.openfiles.emg_from_demuse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">emg_from_demuse</span></code></a></dt><dd><p>import the .mat file used in DEMUSE.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.openfiles.emg_from_customcsv" title="openhdemg.library.openfiles.emg_from_customcsv"><code class="xref py py-obj docutils literal notranslate"><span class="pre">emg_from_customcsv</span></code></a></dt><dd><p>Import custom data from a .csv file.</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>The returned file is called <code class="docutils literal notranslate"><span class="pre">emg_refsig</span></code> for convention.</p>
<p>The input .mat file exported from the OTBiolab+ software should contain:
- refsig signal: there should be the fullsampled or the subsampled</p>
<blockquote>
<div><p>version (in OTBioLab+ the “performed path” refers to the subsampled
signal, the “acquired data” to the fullsampled signal), REF_SIGNAL is
expected to be expressed as % of the MVC (but not compulsory).</p>
</div></blockquote>
<dl>
<dt>Structure of the returned emg_refsig:</dt><dd><dl class="simple">
<dt>emg_refsig = {</dt><dd><p>“SOURCE”: SOURCE,
“FILENAME”: FILENAME,
“FSAMP”: FSAMP,
“REF_SIGNAL”: REF_SIGNAL,</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>For an extended explanation of the imported emgfile use:
&gt;&gt;&gt; import openhdemg as emg
&gt;&gt;&gt; emgfile = emg.refsig_from_otb(filepath=”path/filename.mat”)
&gt;&gt;&gt; info = emg.info()
&gt;&gt;&gt; info.data(emgfile)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.openfiles.emg_from_customcsv">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.openfiles.</span></span><span class="sig-name descname"><span class="pre">emg_from_customcsv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_signal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'REF_SIGNAL'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw_signal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'RAW_SIGNAL'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ipts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'IPTS'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mupulses</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'MUPULSES'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binary_mus_firing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'BINARY_MUS_FIRING'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fsamp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2048</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ied</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/openfiles.html#emg_from_customcsv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.openfiles.emg_from_customcsv" title="Permalink to this definition"></a></dt>
<dd><p>Import custom data from a .csv file.</p>
<p>The variables of interest should be contained in columns. The name of the
columns containing each variable can be specified by the user if different
from the default values.</p>
<p>This function detects the content of the .csv by parsing the .csv columns.
For parsing, column labels should be provided. A label is a term common
to all the columns containing the same information.
For example, if the raw signal is contained in the columns ‘RAW_SIGNAL_1’,
‘RAW_SIGNAL_2’, … , ‘RAW_SIGNAL_n’, the label of the columns should be
‘RAW_SIGNAL’.
If the parameters in input are not present in the .csv file, the user
can simply leave the original inputs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> (<em>str</em><em> or </em><em>Path</em>) – The directory and the name of the file to load
(including file extension .mat).
This can be a simple string, the use of Path is not necessary.</p></li>
<li><p><strong>ref_signal</strong> (<em>str</em><em>, </em><em>default 'REF_SIGNAL'</em>) – Label of the column(s) containing the reference signal.</p></li>
<li><p><strong>raw_signal</strong> (<em>str</em><em>, </em><em>default 'RAW_SIGNAL'</em>) – Label of the column(s) containing the raw emg signal.</p></li>
<li><p><strong>ipts</strong> (<em>str</em><em>, </em><em>default 'IPTS'</em>) – Label of the column(s) containing the pulse train.</p></li>
<li><p><strong>mupulses</strong> (<em>str</em><em>, </em><em>default 'MUPULSES'</em>) – Label of the column(s) containing the times of firing.</p></li>
<li><p><strong>binary_mus_firing</strong> (<em>str</em><em>, </em><em>default 'BINARY_MUS_FIRING'</em>) – Label of the column(s) containing the binary representation
of the MUs firings.</p></li>
<li><p><strong>fsamp</strong> (<em>int</em><em>, </em><em>default 2048</em>) – Tha sampling frequency.</p></li>
<li><p><strong>ied</strong> (<em>int</em><em>, </em><em>default 8</em>) – The inter-electrode distance in mm.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>emgfile</strong> – A dictionary containing all the useful variables.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.openfiles.emg_from_demuse" title="openhdemg.library.openfiles.emg_from_demuse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">emg_from_demuse</span></code></a></dt><dd><p>import the .mat file used in DEMUSE.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.openfiles.emg_from_otb" title="openhdemg.library.openfiles.emg_from_otb"><code class="xref py py-obj docutils literal notranslate"><span class="pre">emg_from_otb</span></code></a></dt><dd><p>import the .mat file exportable by OTBiolab+.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.openfiles.refsig_from_otb" title="openhdemg.library.openfiles.refsig_from_otb"><code class="xref py py-obj docutils literal notranslate"><span class="pre">refsig_from_otb</span></code></a></dt><dd><p>import REF_SIGNAL in the .mat file exportable by OTBiolab+.</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>The returned file is called <code class="docutils literal notranslate"><span class="pre">emgfile</span></code> for convention.</p>
<dl>
<dt>Structure of the emgfile:</dt><dd><dl class="simple">
<dt>emgfile = {</dt><dd><p>“SOURCE”: SOURCE,
“FILENAME”: FILENAME,
“RAW_SIGNAL”: RAW_SIGNAL,
“REF_SIGNAL”: REF_SIGNAL,
“PNR”: PNR,
“SIL”: SIL
“IPTS”: IPTS,
“MUPULSES”: MUPULSES,
“FSAMP”: FSAMP,
“IED”: IED,
“EMG_LENGTH”: EMG_LENGTH,
“NUMBER_OF_MUS”: NUMBER_OF_MUS,
“BINARY_MUS_FIRING”: BINARY_MUS_FIRING,</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>For an extended explanation of the imported emgfile use:
&gt;&gt;&gt; import openhdemg as emg
&gt;&gt;&gt; emgfile = emg_from_customcsv(filepath = “mypath/file.csv”)
&gt;&gt;&gt; info = emg.info()
&gt;&gt;&gt; info.data(emgfile)</p>
<dl class="simple">
<dt>An example of the .csv file to load:</dt><dd><p>REF_SIGNAL  RAW_SIGNAL (1)  RAW_SIGNAL (2)  RAW_SIGNAL (3) …  IPTS (1)  IPTS (2)  MUPULSES (1)  MUPULSES (2)  BINARY_MUS_FIRING (1)  BINARY_MUS_FIRING (2)</p>
</dd>
</dl>
<p>0            1        0.100000        0.100000        0.100000 …  0.010000  0.010000           2.0           1.0                      0                      0
1            2        2.000000        2.000000        2.000000 …  0.001000  0.001000           5.0           2.0                      0                      0
2            3        0.500000        0.500000        0.500000 …  0.020000  0.020000           8.0           9.0                      0                      0
3            4        0.150000        0.150000        0.150000 …  0.002000  0.002000           9.0          15.0                      0                      1
4            5        0.350000        0.350000        0.350000 … -0.100000 -0.100000          15.0          18.0                      1                      1
5            6        0.215000        0.215000        0.215000 …  0.200000  0.200000          16.0           NaN                      1                      0</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.openfiles.save_json_emgfile">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.openfiles.</span></span><span class="sig-name descname"><span class="pre">save_json_emgfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/openfiles.html#save_json_emgfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.openfiles.save_json_emgfile" title="Permalink to this definition"></a></dt>
<dd><p>Save the emgfile or emg_refsig as a JSON file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the emgfile.</p></li>
<li><p><strong>filepath</strong> (<em>str</em><em> or </em><em>Path</em>) – The directory and the name of the file to save (including file
extension .json).
This can be a simple string; The use of Path is not necessary.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.openfiles.emg_from_json">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.openfiles.</span></span><span class="sig-name descname"><span class="pre">emg_from_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/openfiles.html#emg_from_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.openfiles.emg_from_json" title="Permalink to this definition"></a></dt>
<dd><p>Load the emgfile or emg_refsig stored in json format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filepath</strong> (<em>str</em><em> or </em><em>Path</em>) – The directory and the name of the file to load (including file
extension .json).
This can be a simple string, the use of Path is not necessary.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>emgfile</strong> – The dictionary containing the emgfile.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The returned file is called <code class="docutils literal notranslate"><span class="pre">emgfile</span></code> for convention
(or <code class="docutils literal notranslate"><span class="pre">emg_refsig</span></code> if SOURCE = “OTB_refsig”).</p>
<p>For an extended explanation of the imported emgfile use:
&gt;&gt;&gt; import openhdemg as emg
&gt;&gt;&gt; emgfile = emg.askopenfile()
&gt;&gt;&gt; info = emg.info()
&gt;&gt;&gt; info.data(emgfile)</p>
<dl class="simple">
<dt>Or refer to the documentation of the following functions:</dt><dd><p>emg_from_otb
emg_from_demuse
refsig_from_otb
emg_from_customcsv</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.openfiles.askopenfile">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.openfiles.</span></span><span class="sig-name descname"><span class="pre">askopenfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initialdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filesource</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'DEMUSE'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/openfiles.html#askopenfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.openfiles.askopenfile" title="Permalink to this definition"></a></dt>
<dd><p>Select and open files with a GUI.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>initialdir</strong> (<em>str</em><em> or </em><em>Path</em><em>, </em><em>default &quot;/&quot;</em>) – The directory of the file to load (excluding file name).
This can be a simple string, the use of Path is not necessary.</p></li>
<li><p><strong>filesource</strong> (<em>str {&quot;DEMUSE&quot;</em><em>, </em><em>&quot;OTB&quot;</em><em>, </em><em>&quot;OTB_refsig&quot;</em><em>, </em><em>&quot;custom&quot;</em><em>, </em><em>&quot;Open_HD-EMG&quot;}</em><em>, </em><em>default &quot;DEMUSE&quot;</em>) – <p>See notes for how files should be exported from OTB.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">DEMUSE</span></code></dt><dd><p>File saved from DEMUSE (.mat).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">OTB</span></code></dt><dd><p>File exported from OTB with decomposition and reference signal (.mat).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">OTB_refsig</span></code></dt><dd><p>File exported from OTB with only the reference signal (.mat).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">custom</span></code></dt><dd><p>Custom file format (.csv).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Open_HD-EMG</span></code></dt><dd><p>File saved from openhdemg (.json).</p>
</dd>
</dl>
</p></li>
<li><p><strong>otb_ext_factor</strong> (<em>int</em><em>, </em><em>default 8</em>) – The extension factor used for the decomposition in the OTbiolab+
software.
Ignore if loading other files.</p></li>
<li><p><strong>otb_refsig_type</strong> (<em>list</em><em>, </em><em>default</em><em> [</em><em>True</em><em>, </em><em>&quot;fullsampled&quot;</em><em>]</em>) – Whether to seacrh also for the REF_SIGNAL and whether to load the full
or sub-sampled one. The list is composed as [bool, str]. str can be
“fullsampled” or “subsampled”.
Ignore if loading other files.</p></li>
<li><p><strong>otb_version</strong> (<em>str</em><em>, </em><em>default &quot;1.5.8.0&quot;</em>) – <p>Version of the OTBiolab+ software used (4 points).
Tested versions are:</p>
<blockquote>
<div><p>”1.5.3.0”,
“1.5.4.0”,
“1.5.5.0”,
“1.5.6.0”,
“1.5.7.2”,
“1.5.7.3”,
“1.5.8.0”,</p>
</div></blockquote>
<p>If your specific version is not available in the tested versions,
trying with the closer one usually works, but please double check the
results. Ignore if loading other files.</p>
</p></li>
<li><p><strong>custom_ref_signal</strong> (<em>str</em><em>, </em><em>default 'REF_SIGNAL'</em>) – Label of the column(s) containing the reference signal of the custom
file.
This and the following arguments are needed only for custom files.
Ignore if loading other files.</p></li>
<li><p><strong>custom_raw_signal</strong> (<em>str</em><em>, </em><em>default 'RAW_SIGNAL'</em>) – Label of the column(s) containing the raw emg signal of the custom
file. Ignore if loading other files.</p></li>
<li><p><strong>custom_ipts</strong> (<em>str</em><em>, </em><em>default 'IPTS'</em>) – Label of the column(s) containing the pulse train of the custom file.
Ignore if loading other files.</p></li>
<li><p><strong>custom_mupulses</strong> (<em>str</em><em>, </em><em>default 'MUPULSES'</em>) – Label of the column(s) containing the times of firing of the custom
file. Ignore if loading other files.</p></li>
<li><p><strong>custom_binary_mus_firing</strong> (<em>str</em><em>, </em><em>default 'BINARY_MUS_FIRING'</em>) – Label of the column(s) containing the binary representation
of the MUs firings of the custom file.
Ignore if loading other files.</p></li>
<li><p><strong>custom_fsamp</strong> (<em>int</em><em>, </em><em>default 2048</em>) – Tha sampling frequency of the custom file.
Ignore if loading other files.</p></li>
<li><p><strong>custom_ied</strong> (<em>int</em><em>, </em><em>default 8</em>) – The inter-electrode distance in mm of the custom file.
Ignore if loading other files.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>emgfile</strong> – The dictionary containing the emgfile.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.openfiles.asksavefile" title="openhdemg.library.openfiles.asksavefile"><code class="xref py py-obj docutils literal notranslate"><span class="pre">asksavefile</span></code></a></dt><dd><p>select where to save files with a GUI.</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>The returned file is called <code class="docutils literal notranslate"><span class="pre">emgfile</span></code> for convention (or <code class="docutils literal notranslate"><span class="pre">emg_refsig</span></code>
if SOURCE = “OTB_refsig”).</p>
<p>The input .mat file exported from the OTBiolab+ software should have a
specific content:
- refsig signal is optional but, if present, there should be both the</p>
<blockquote>
<div><p>fullsampled and the subsampled version (in OTBioLab+ the “performed
path” refers to the subsampled signal, the “acquired data” to the
fullsampled signal), REF_SIGNAL is expected to be expressed as % of
the MViF (but not compulsory).</p>
</div></blockquote>
<ul class="simple">
<li><dl class="simple">
<dt>Both the IPTS (‘Source for decomposition…’ in OTBioLab+) and the</dt><dd><p>BINARY_MUS_FIRING (‘Decomposition of…’ in OTBioLab+) should be
present.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>The raw EMG signal should be present (it has no specific name in</dt><dd><p>OTBioLab+) with all the channels. Don’t exclude unwanted channels
before exporting the .mat file.</p>
</dd>
</dl>
</li>
<li><p>NO OTHER ELEMENTS SHOULD BE PRESENT!</p></li>
</ul>
<p>For custom .csv files:
The variables of interest should be contained in columns. The name of the
columns containing each variable can be specified by the user if different
from the default values.
This function detects the content of the .csv by parsing the .csv columns.
For parsing, column labels should be provided. A label is a term common
to all the columns containing the same information.
For example, if the raw signal is contained in the columns ‘RAW_SIGNAL_1’,
‘RAW_SIGNAL_2’, … , ‘RAW_SIGNAL_n’, the label of the columns should be
‘RAW_SIGNAL’.
If the parameters in input are not present in the .csv file, the user
can simply leave the original inputs.
Please see the documentation of the function emg_from_customcsv for
additional informations.</p>
<dl>
<dt>Structure of the returned emgfile:</dt><dd><dl class="simple">
<dt>emgfile = {</dt><dd><p>“SOURCE”: SOURCE,
“FILENAME”: FILENAME,
“RAW_SIGNAL”: RAW_SIGNAL,
“REF_SIGNAL”: REF_SIGNAL,
“PNR”: PNR,
“SIL”: SIL,
“IPTS”: IPTS,
“MUPULSES”: MUPULSES,
“FSAMP”: FSAMP,
“IED”: IED,
“EMG_LENGTH”: EMG_LENGTH,
“NUMBER_OF_MUS”: NUMBER_OF_MUS,
“BINARY_MUS_FIRING”: BINARY_MUS_FIRING,</p>
</dd>
</dl>
<p>}</p>
</dd>
<dt>Structure of the returned emg_refsig:</dt><dd><dl class="simple">
<dt>emg_refsig = {</dt><dd><p>“SOURCE”: SOURCE,
“FILENAME”: FILENAME,
“FSAMP”: FSAMP,
“REF_SIGNAL”: REF_SIGNAL,</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>For an extended explanation of the imported emgfile use:
&gt;&gt;&gt; import openhdemg as emg
&gt;&gt;&gt; emgfile = emg.askopenfile()
&gt;&gt;&gt; info = emg.info()
&gt;&gt;&gt; info.data(emgfile)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.openfiles.asksavefile">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.openfiles.</span></span><span class="sig-name descname"><span class="pre">asksavefile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/openfiles.html#asksavefile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.openfiles.asksavefile" title="Permalink to this definition"></a></dt>
<dd><p>Select where to save files with a GUI.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the emgfile to save.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.openfiles.askopenfile" title="openhdemg.library.openfiles.askopenfile"><code class="xref py py-obj docutils literal notranslate"><span class="pre">askopenfile</span></code></a></dt><dd><p>select and open files with a GUI.</p>
</dd>
</dl>
</div>
</dd></dl>

</section>
<section id="module-openhdemg.library.otbelectrodes">
<span id="openhdemg-library-otbelectrodes-module"></span><h2>openhdemg.library.otbelectrodes module<a class="headerlink" href="#module-openhdemg.library.otbelectrodes" title="Permalink to this heading"></a></h2>
<p>This module contains informations about the electrodes commonly used for
HD-EMG recordings.
Functions to sort the electrode position are also included.
The files saved from the DEMUSE software are supposed to be already sorted.</p>
<dl class="py data">
<dt class="sig sig-object py" id="openhdemg.library.otbelectrodes.OTBelectrodes_tuple">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.otbelectrodes.</span></span><span class="sig-name descname"><span class="pre">OTBelectrodes_tuple</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('GR04MM1305',</span> <span class="pre">'GR08MM1305',</span> <span class="pre">'GR100ML1305',</span> <span class="pre">'GR10MM0804',</span> <span class="pre">'GR10MM0808',</span> <span class="pre">'HD04MM1305',</span> <span class="pre">'HD08MM1305',</span> <span class="pre">'HD10MM0804',</span> <span class="pre">'HD10MM0808')</span></em><a class="headerlink" href="#openhdemg.library.otbelectrodes.OTBelectrodes_tuple" title="Permalink to this definition"></a></dt>
<dd><p>Tuple containing the names of different recording electrodes.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">OTBelectrodes_tuple</span>
<span class="go">(</span>
<span class="go">    &#39;GR04MM1305&#39;,</span>
<span class="go">    &#39;GR08MM1305&#39;,</span>
<span class="go">    &#39;GR100ML1305&#39;,</span>
<span class="go">    &#39;GR10MM0804&#39;,</span>
<span class="go">    &#39;GR10MM0808&#39;,</span>
<span class="go">    &#39;HD04MM1305&#39;,</span>
<span class="go">    &#39;HD08MM1305&#39;,</span>
<span class="go">    &#39;HD10MM0804&#39;,</span>
<span class="go">    &#39;HD10MM0808&#39;,</span>
<span class="go">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="openhdemg.library.otbelectrodes.OTBelectrodes_ied">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.otbelectrodes.</span></span><span class="sig-name descname"><span class="pre">OTBelectrodes_ied</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'GR04MM1305':</span> <span class="pre">4,</span> <span class="pre">'GR08MM1305':</span> <span class="pre">8,</span> <span class="pre">'GR100ML1305':</span> <span class="pre">2.5,</span> <span class="pre">'GR10MM0804':</span> <span class="pre">10,</span> <span class="pre">'GR10MM0808':</span> <span class="pre">10,</span> <span class="pre">'HD04MM1305':</span> <span class="pre">4,</span> <span class="pre">'HD08MM1305':</span> <span class="pre">8,</span> <span class="pre">'HD10MM0804':</span> <span class="pre">10,</span> <span class="pre">'HD10MM0808':</span> <span class="pre">10}</span></em><a class="headerlink" href="#openhdemg.library.otbelectrodes.OTBelectrodes_ied" title="Permalink to this definition"></a></dt>
<dd><p>A dict containing information about the interelectrode distance for each
matrix in OTBelectrodes_tuple.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">OTBelectrodes_ied</span>
<span class="go">{</span>
<span class="go">    &#39;GR04MM1305&#39;: 4,</span>
<span class="go">    &#39;GR08MM1305&#39;: 8,</span>
<span class="go">    &#39;GR100ML1305&#39;: 2.5,</span>
<span class="go">    &#39;GR10MM0804&#39;: 10,</span>
<span class="go">    &#39;GR10MM0808&#39;: 10,</span>
<span class="go">    &#39;HD04MM1305&#39;: 4,</span>
<span class="go">    &#39;HD08MM1305&#39;: 8,</span>
<span class="go">    &#39;HD10MM0804&#39;: 10,</span>
<span class="go">    &#39;HD10MM0808&#39;: 10,</span>
<span class="go">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="openhdemg.library.otbelectrodes.OTBelectrodes_Nelectrodes">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.otbelectrodes.</span></span><span class="sig-name descname"><span class="pre">OTBelectrodes_Nelectrodes</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'GR04MM1305':</span> <span class="pre">64,</span> <span class="pre">'GR08MM1305':</span> <span class="pre">64,</span> <span class="pre">'GR100ML1305':</span> <span class="pre">64,</span> <span class="pre">'GR10MM0804':</span> <span class="pre">32,</span> <span class="pre">'GR10MM0808':</span> <span class="pre">64,</span> <span class="pre">'HD04MM1305':</span> <span class="pre">64,</span> <span class="pre">'HD08MM1305':</span> <span class="pre">64,</span> <span class="pre">'HD10MM0804':</span> <span class="pre">32,</span> <span class="pre">'HD10MM0808':</span> <span class="pre">64}</span></em><a class="headerlink" href="#openhdemg.library.otbelectrodes.OTBelectrodes_Nelectrodes" title="Permalink to this definition"></a></dt>
<dd><p>A dict containing information about the number of electrodes for each
matrix in OTBelectrodes_tuple.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">OTBelectrodes_Nelectrodes</span>
<span class="go">{</span>
<span class="go">    &#39;GR04MM1305&#39;: 64,</span>
<span class="go">    &#39;GR08MM1305&#39;: 64,</span>
<span class="go">    &#39;GR100ML1305&#39;: 64,</span>
<span class="go">    &#39;GR10MM0804&#39;: 32,</span>
<span class="go">    &#39;GR10MM0808&#39;: 64,</span>
<span class="go">    &#39;HD04MM1305&#39;: 64,</span>
<span class="go">    &#39;HD08MM1305&#39;: 64,</span>
<span class="go">    &#39;HD10MM0804&#39;: 32,</span>
<span class="go">    &#39;HD10MM0808&#39;: 64,</span>
<span class="go">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.otbelectrodes.sort_rawemg">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.otbelectrodes.</span></span><span class="sig-name descname"><span class="pre">sort_rawemg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">code</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'GR08MM1305'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orientation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">180</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dividebycolumn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/otbelectrodes.html#sort_rawemg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.otbelectrodes.sort_rawemg" title="Permalink to this definition"></a></dt>
<dd><p>Sort RAW_SIGNAL based on matrix type and orientation.</p>
<dl class="simple">
<dt>To date, built-in sorting functions have been implemented for the matrices:</dt><dd><p>Code        (Orientation)
GR08MM1305  (0, 180),
GR04MM1305  (0, 180),
GR10MM0808  (0, 180).</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the emgfile.</p></li>
<li><p><strong>code</strong> (<em>str {&quot;GR08MM1305&quot;</em><em>, </em><em>&quot;GR04MM1305&quot;</em><em>, </em><em>&quot;GR10MM0808&quot;}</em><em>, </em><em>default &quot;GR08MM1305&quot;</em>) – The code of the matrix used.</p></li>
<li><p><strong>orientation</strong> (<em>int {0</em><em>, </em><em>180}</em><em>, </em><em>default 180</em>) – Orientation in degree of the matrix (same as in OTBiolab).
E.g. 180 corresponds to the matrix connection toward the researcher or
the ground (depending on the limb).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>sorted_rawemg</strong> – If dividebycolumn == True a dict containing the sorted electrodes.
Every key of the dictionary represents a different column of the
matrix. Rows are stored in the dict as a pd.DataFrame.
If dividebycolumn == False a pd.DataFrame containing the sorted
electrodes. The matrix channels are stored in the pd.DataFrame columns.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict or pd.DataFrame</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The returned file is called <code class="docutils literal notranslate"><span class="pre">sorted_rawemg</span></code> for convention.
Files coming from DEMUSE or OTBiolab+ have the same final format.</p>
<p>DEMUSE files are supposed to be already sorted and are therefore only
divided by columns if requested.</p>
<p class="rubric">Examples</p>
<p>Sort emgfile RAW_SIGNAL and divide it by columns.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_rawemg</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sort_rawemg</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">code</span><span class="o">=</span><span class="s2">&quot;GR08MM1305&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">orientation</span><span class="o">=</span><span class="mi">180</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">dividebycolumn</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_rawemg</span><span class="p">[</span><span class="s2">&quot;col0&quot;</span><span class="p">]</span>
<span class="go">        0          1          2 ...        10         11         12</span>
<span class="go">0     NaN -11.189778   3.560384 ... -2.034505  -3.051758  -0.508626</span>
<span class="go">1     NaN -12.715657   4.577637 ...  2.034505  -7.120768  -0.508626</span>
<span class="go">2     NaN   0.508626  21.870932 ... 17.801920   8.646647  16.276041</span>
<span class="go">3     NaN   6.103516  26.957193 ... 26.448568  19.327799  19.836426</span>
<span class="go">4     NaN  -5.594889  13.224284 ... 10.681152   2.034505   3.560384</span>
<span class="go">...    ..        ...        ... ...       ...        ...        ...</span>
<span class="go">63483 NaN -15.767415 -22.379557 ...-12.207031 -12.207031 -15.767415</span>
<span class="go">63484 NaN  -9.155273 -19.327799 ... -7.629395  -8.138021  -8.138021</span>
<span class="go">63485 NaN  -6.103516 -12.207031 ... -6.103516  -5.086263  -3.051758</span>
<span class="go">63486 NaN  -6.103516 -15.767415 ... -3.560384  -0.508626   2.543132</span>
<span class="go">63487 NaN  -8.138021 -18.819174 ... -2.034505  -1.525879   3.560384</span>
</pre></div>
</div>
<p>Sort emgfile RAW_SIGNAL without dividing it by columns.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_rawemg</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sort_rawemg</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">code</span><span class="o">=</span><span class="s2">&quot;GR08MM1305&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">orientation</span><span class="o">=</span><span class="mi">180</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">dividebycolumn</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_rawemg</span>
<span class="go">       0          1          2  ...        62         63         64</span>
<span class="go">0     NaN -11.189778   3.560384 ... -5.086263  -9.663899   2.034505</span>
<span class="go">1     NaN -12.715657   4.577637 ... -3.560384  -8.646647   1.017253</span>
<span class="go">2     NaN   0.508626  21.870932 ... 11.189778   6.612142  17.293295</span>
<span class="go">3     NaN   6.103516  26.957193 ... 22.888184  14.750163  21.362305</span>
<span class="go">4     NaN  -5.594889  13.224284 ...  9.663899   1.525879   6.612142</span>
<span class="go">...    ..        ...        ... ...       ...        ...        ...</span>
<span class="go">63483 NaN -15.767415 -22.379557 ... -8.646647 -20.345053 -15.258789</span>
<span class="go">63484 NaN  -9.155273 -19.327799 ... -7.120768 -19.327799 -13.732910</span>
<span class="go">63485 NaN  -6.103516 -12.207031 ... -3.051758 -10.681152  -6.103516</span>
<span class="go">63486 NaN  -6.103516 -15.767415 ...  2.543132  -7.120768  -4.069010</span>
<span class="go">63487 NaN  -8.138021 -18.819174 ...  2.034505  -3.051758  -0.508626</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-openhdemg.library.plotemg">
<span id="openhdemg-library-plotemg-module"></span><h2>openhdemg.library.plotemg module<a class="headerlink" href="#module-openhdemg.library.plotemg" title="Permalink to this heading"></a></h2>
<p>This module contains all the functions used to visualise the emg file,
the MUs properties or to save figures.</p>
<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.plotemg.showgoodlayout">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.plotemg.</span></span><span class="sig-name descname"><span class="pre">showgoodlayout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tight_layout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">despined</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/plotemg.html#showgoodlayout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.plotemg.showgoodlayout" title="Permalink to this definition"></a></dt>
<dd><p>Despine and show plots with a good layout.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tight_layout</strong> (<em>bool</em><em>, </em><em>default True</em>) – If true (default), plt.tight_layout() is applied to the figure.</p></li>
<li><p><strong>despined</strong> (<em>bool</em><em> or </em><em>str {&quot;2yaxes&quot;}</em><em>, </em><em>default False</em>) – <p>False: left and bottom is not despined (standard plotting).
True: all the sides are despined.
<code class="docutils literal notranslate"><span class="pre">2yaxes</span></code></p>
<blockquote>
<div><p>Only the top is despined.
This is used to show y axes both on the right and left side at the
same time.</p>
</div></blockquote>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.plotemg.plot_emgsig">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.plotemg.</span></span><span class="sig-name descname"><span class="pre">plot_emgsig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addrefsig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeinseconds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[20,</span> <span class="pre">15]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showimmediately</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tight_layout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/plotemg.html#plot_emgsig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.plotemg.plot_emgsig" title="Permalink to this definition"></a></dt>
<dd><p>Plot the RAW_SIGNAL. Single or multiple channels.</p>
<p>Up to 12 channels (a common matrix row) can be easily observed togheter
but more can be plotted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the emgfile.</p></li>
<li><p><strong>channels</strong> (<em>int</em><em> or </em><em>list</em>) – The channel (int) or channels (list of int) to plot.
The list can be passed as a manually-written list or with:
channels=[<em>range(0, 12)].
We need the “</em>” operator to unpack the results of range into a list.
channels is expected to be with base 0 (i.e., the first channel
in the file is the number 0).</p></li>
<li><p><strong>addrefsig</strong> (<em>bool</em><em>, </em><em>default True</em>) – If True, the REF_SIGNAL is plotted in front of the signal with a
separated y-axes.</p></li>
<li><p><strong>timeinseconds</strong> (<em>bool</em><em>, </em><em>default True</em>) – Whether to show the time on the x-axes in seconds (True)
or in samples (False).</p></li>
<li><p><strong>figsize</strong> (<em>list</em><em>, </em><em>default</em><em> [</em><em>20</em><em>, </em><em>15</em><em>]</em>) – Size of the figure in centimeters [width, height].</p></li>
<li><p><strong>showimmediately</strong> (<em>bool</em><em>, </em><em>default True</em>) – If True (default), plt.show() is called and the figure showed to the
user.
It is useful to set it to False when calling the function from the GUI.</p></li>
<li><p><strong>tight_layout</strong> (<em>bool</em><em>, </em><em>default True</em>) – If True (default), the plt.tight_layout() is called and the figure’s
layout is improved.
It is useful to set it to False when calling the function from the GUI.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>fig</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyplot <cite>~.figure.Figure</cite></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.plotemg.plot_differentials" title="openhdemg.library.plotemg.plot_differentials"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_differentials</span></code></a></dt><dd><p>plot the differential derivation of the RAW_SIGNAL by matrix column.</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>Plot channels 0 to 12 and overlay the reference signal.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">emg_from_otb</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;openhdemg/Decomposed Test files/OTB_25MViF_TRAPEZOIDAL_testfile.mat&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emg</span><span class="o">.</span><span class="n">plot_emgsig</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">channels</span><span class="o">=</span><span class="p">[</span><span class="o">*</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">13</span><span class="p">)],</span>
<span class="gp">... </span>    <span class="n">addrefsig</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">timeinseconds</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.plotemg.plot_differentials">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.plotemg.</span></span><span class="sig-name descname"><span class="pre">plot_differentials</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">differential</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'col0'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addrefsig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeinseconds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[20,</span> <span class="pre">15]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showimmediately</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tight_layout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/plotemg.html#plot_differentials"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.plotemg.plot_differentials" title="Permalink to this definition"></a></dt>
<dd><p>Plot the differential derivation of the RAW_SIGNAL by matrix column.</p>
<p>Both the single and the double differencials can be plotted.
This function is used to plot also the sorted RAW_SIGNAL.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the original emgfile.</p></li>
<li><p><strong>differential</strong> (<em>dict</em>) – The dictionary containing the differential derivation of the
RAW_SIGNAL.</p></li>
<li><p><strong>column</strong> (<em>str {&quot;col0&quot;</em><em>, </em><em>&quot;col1&quot;</em><em>, </em><em>&quot;col2&quot;</em><em>, </em><em>&quot;col3&quot;</em><em>, </em><em>&quot;col4&quot;</em><em>, </em><em>...</em><em>}</em><em>, </em><em>default &quot;col0&quot;</em>) – The matrix column to plot.
Options are usyally “col0”, “col1”, “col2”, “col3”, “col4”.
but might change based on the size of the matrix used.</p></li>
<li><p><strong>addrefsig</strong> (<em>bool</em><em>, </em><em>default True</em>) – If True, the REF_SIGNAL is plotted in front of the signal with a
separated y-axes.</p></li>
<li><p><strong>timeinseconds</strong> (<em>bool</em><em>, </em><em>default True</em>) – Whether to show the time on the x-axes in seconds (True)
or in samples (False).</p></li>
<li><p><strong>figsize</strong> (<em>list</em><em>, </em><em>default</em><em> [</em><em>20</em><em>, </em><em>15</em><em>]</em>) – Size of the figure in centimeters [width, height].</p></li>
<li><p><strong>showimmediately</strong> (<em>bool</em><em>, </em><em>default True</em>) – If True (default), plt.show() is called and the figure showed to the
user.
It is useful to set it to False when calling the function from the GUI.</p></li>
<li><p><strong>tight_layout</strong> (<em>bool</em><em>, </em><em>default True</em>) – If True (default), the plt.tight_layout() is called and the figure’s
layout is improved.
It is useful to set it to False when calling the function from the GUI.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>fig</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyplot <cite>~.figure.Figure</cite></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">diff</span></code></dt><dd><p>calculate single differential of RAW_SIGNAL on matrix rows.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">double_diff</span></code></dt><dd><p>calculate double differential of RAW_SIGNAL on matrix rows.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.plotemg.plot_emgsig" title="openhdemg.library.plotemg.plot_emgsig"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_emgsig</span></code></a></dt><dd><p>pot the RAW_SIGNAL. Single or multiple channels.</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>Plot plot the differential derivation of the first matrix column (col0).</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">emg_from_otb</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;openhdemg/Decomposed Test files/OTB_25MViF_TRAPEZOIDAL_testfile.mat&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_rawemg</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sort_rawemg</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">code</span><span class="o">=</span><span class="s2">&quot;GR08MM1305&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">orientation</span><span class="o">=</span><span class="mi">180</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sd</span><span class="o">=</span><span class="n">emg</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">sorted_rawemg</span><span class="o">=</span><span class="n">sorted_rawemg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emg</span><span class="o">.</span><span class="n">plot_differentials</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">differential</span><span class="o">=</span><span class="n">sd</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">column</span><span class="o">=</span><span class="s2">&quot;col0&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">addrefsig</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">timeinseconds</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">showimmediately</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.plotemg.plot_refsig">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.plotemg.</span></span><span class="sig-name descname"><span class="pre">plot_refsig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylabel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'MVC'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeinseconds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[20,</span> <span class="pre">15]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showimmediately</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tight_layout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/plotemg.html#plot_refsig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.plotemg.plot_refsig" title="Permalink to this definition"></a></dt>
<dd><p>Plot the REF_SIGNAL.</p>
<p>The REF_SIGNAL is usually expressed as % MVC for submaximal contractions
or as Kilograms (Kg) or Newtons (N) for maximal contractions, but any
value can be plotted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the emgfile.</p></li>
<li><p><strong>ylabel</strong> (<em>str</em><em>, </em><em>default &quot;MVC&quot;</em>) – The unit of measure to show on the Y axis.</p></li>
<li><p><strong>timeinseconds</strong> (<em>bool</em><em>, </em><em>default True</em>) – Whether to show the time on the x-axes in seconds (True)
or in samples (False).</p></li>
<li><p><strong>figsize</strong> (<em>list</em><em>, </em><em>default</em><em> [</em><em>20</em><em>, </em><em>15</em><em>]</em>) – Size of the figure in centimeters [width, height].</p></li>
<li><p><strong>showimmediately</strong> (<em>bool</em><em>, </em><em>default True</em>) – If True (default), plt.show() is called and the figure showed to the
user.
It is useful to set it to False when calling the function from the GUI.</p></li>
<li><p><strong>tight_layout</strong> (<em>bool</em><em>, </em><em>default True</em>) – If True (default), the plt.tight_layout() is called and the figure’s
layout is improved.
It is useful to set it to False when calling the function from the GUI.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>fig</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyplot <cite>~.figure.Figure</cite></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Plot the reference signal.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">emg_from_otb</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;openhdemg/Decomposed Test files/OTB_25MViF_TRAPEZOIDAL_testfile.mat&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emg</span><span class="o">.</span><span class="n">plot_refsig</span><span class="p">(</span><span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">)</span>
</pre></div>
</div>
<p>Change Y axis label and show time in samples.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">emg_from_otb</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;openhdemg/Decomposed Test files/OTB_25MViF_TRAPEZOIDAL_testfile.mat&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emg</span><span class="o">.</span><span class="n">plot_refsig</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;Custom unit e.g., N or kg&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">timeinseconds</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.plotemg.plot_mupulses">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.plotemg.</span></span><span class="sig-name descname"><span class="pre">plot_mupulses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">munumber</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linewidths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addrefsig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeinseconds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[20,</span> <span class="pre">15]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showimmediately</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tight_layout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/plotemg.html#plot_mupulses"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.plotemg.plot_mupulses" title="Permalink to this definition"></a></dt>
<dd><p>Plot all the MUPULSES (binary representation of the firings time).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the emgfile.</p></li>
<li><p><strong>munumber</strong> (<em>str {&quot;all&quot;}</em><em>, </em><em>int</em><em> or </em><em>list</em><em>, </em><em>default &quot;all&quot;</em>) – <dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">all</span></code></dt><dd><p>IPTS of all the MUs is plotted.</p>
</dd>
</dl>
<p>Otherwise, a single MU (int) or multiple MUs (list of int) can be
specified.
The list can be passed as a manually-written list or with:
munumber=[<em>range(0, 12)].
We need the “</em>” operator to unpack the results of range into a list.
munumber is expected to be with base 0 (i.e., the first MU in the file
is the number 0).</p>
</p></li>
<li><p><strong>linewidths</strong> (<em>float</em><em>, </em><em>default 0.5</em>) – The width of the vertical lines representing the MU firing.</p></li>
<li><p><strong>addrefsig</strong> (<em>bool</em><em>, </em><em>default True</em>) – If True, the REF_SIGNAL is plotted in front of the MUs pulses with a
separated y-axes.</p></li>
<li><p><strong>timeinseconds</strong> (<em>bool</em><em>, </em><em>default True</em>) – Whether to show the time on the x-axes in seconds (True)
or in samples (False).</p></li>
<li><p><strong>figsize</strong> (<em>list</em><em>, </em><em>default</em><em> [</em><em>20</em><em>, </em><em>15</em><em>]</em>) – Size of the figure in centimeters [width, height].</p></li>
<li><p><strong>showimmediately</strong> (<em>bool</em><em>, </em><em>default True</em>) – If True (default), plt.show() is called and the figure showed to the
user.
It is useful to set it to False when calling the function from the GUI.</p></li>
<li><p><strong>tight_layout</strong> (<em>bool</em><em>, </em><em>default True</em>) – If True (default), the plt.tight_layout() is called and the figure’s
layout is improved.
It is useful to set it to False when calling the function from the GUI.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>fig</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyplot <cite>~.figure.Figure</cite></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.plotemg.plot_ipts" title="openhdemg.library.plotemg.plot_ipts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_ipts</span></code></a></dt><dd><p>plot the MUs impulse train per second (IPTS).</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.plotemg.plot_idr" title="openhdemg.library.plotemg.plot_idr"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_idr</span></code></a></dt><dd><p>plot the instantaneous discharge rate.</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>Plot MUs pulses based on recruitment order and overlay the reference
signal.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">emg_from_otb</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;openhdemg/Decomposed Test files/OTB_25MViF_TRAPEZOIDAL_testfile.mat&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emg</span><span class="o">.</span><span class="n">plot_mupulses</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">linewidths</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">order</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">addrefsig</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">timeinseconds</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">showimmediately</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.plotemg.plot_ipts">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.plotemg.</span></span><span class="sig-name descname"><span class="pre">plot_ipts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">munumber</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addrefsig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeinseconds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[20,</span> <span class="pre">15]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showimmediately</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tight_layout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/plotemg.html#plot_ipts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.plotemg.plot_ipts" title="Permalink to this definition"></a></dt>
<dd><p>Plot the IPTS (source of decomposition).</p>
<p>IPTS is the non-binary representation of the MUs firing times.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the emgfile.</p></li>
<li><p><strong>munumber</strong> (<em>str {&quot;all&quot;}</em><em>, </em><em>int</em><em> or </em><em>list</em><em>, </em><em>default &quot;all&quot;</em>) – <dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">all</span></code></dt><dd><p>IPTS of all the MUs is plotted.</p>
</dd>
</dl>
<p>Otherwise, a single MU (int) or multiple MUs (list of int) can be
specified.
The list can be passed as a manually-written list or with:
munumber=[<em>range(0, 12)].
We need the “</em>” operator to unpack the results of range into a list.
munumber is expected to be with base 0 (i.e., the first MU in the file
is the number 0).</p>
</p></li>
<li><p><strong>timeinseconds</strong> (<em>bool</em><em>, </em><em>default True</em>) – Whether to show the time on the x-axes in seconds (True)
or in samples (False).</p></li>
<li><p><strong>figsize</strong> (<em>list</em><em>, </em><em>default</em><em> [</em><em>20</em><em>, </em><em>15</em><em>]</em>) – Size of the figure in centimeters [width, height].</p></li>
<li><p><strong>showimmediately</strong> (<em>bool</em><em>, </em><em>default True</em>) – If True (default), plt.show() is called and the figure showed to the
user.
It is useful to set it to False when calling the function from the GUI.</p></li>
<li><p><strong>tight_layout</strong> (<em>bool</em><em>, </em><em>default True</em>) – If True (default), the plt.tight_layout() is called and the figure’s
layout is improved.
It is useful to set it to False when calling the function from the GUI.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>fig</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyplot <cite>~.figure.Figure</cite></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.plotemg.plot_mupulses" title="openhdemg.library.plotemg.plot_mupulses"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_mupulses</span></code></a></dt><dd><p>plot the binary representation of the firings.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.plotemg.plot_idr" title="openhdemg.library.plotemg.plot_idr"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_idr</span></code></a></dt><dd><p>plot the instantaneous discharge rate.</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>munumber = “all” corresponds to:
munumber = [<a href="#id6"><span class="problematic" id="id7">*</span></a>range(0, emgfile[“NUMBER_OF_MUS”])]</p>
<p class="rubric">Examples</p>
<p>Plot IPTS of all the MUs and overlay the reference signal.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">emg_from_otb</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;openhdemg/Decomposed Test files/OTB_25MViF_TRAPEZOIDAL_testfile.mat&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emg</span><span class="o">.</span><span class="n">plot_ipts</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">munumber</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">addrefsig</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">timeinseconds</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">showimmediately</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<p>Plot IPTS of two MUs.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">emg_from_otb</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;openhdemg/Decomposed Test files/OTB_25MViF_TRAPEZOIDAL_testfile.mat&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emg</span><span class="o">.</span><span class="n">plot_ipts</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">munumber</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">addrefsig</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">timeinseconds</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">showimmediately</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.plotemg.plot_idr">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.plotemg.</span></span><span class="sig-name descname"><span class="pre">plot_idr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">munumber</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addrefsig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeinseconds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[20,</span> <span class="pre">15]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showimmediately</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tight_layout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/plotemg.html#plot_idr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.plotemg.plot_idr" title="Permalink to this definition"></a></dt>
<dd><p>Plot the instantaneous discharge rate (IDR).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the emgfile.</p></li>
<li><p><strong>munumber</strong> (<em>str</em><em>, </em><em>int</em><em> or </em><em>list</em><em>, </em><em>default &quot;all&quot;</em>) – <dl class="simple">
<dt><a href="#id8"><span class="problematic" id="id9">``</span></a>all”</dt><dd><p>IDR of all the MUs is plotted.</p>
</dd>
</dl>
<p>Otherwise, a single MU (int) or multiple MUs (list of int) can be
specified.
The list can be passed as a manually-written list or with:
munumber=[<em>range(0, 12)].
We need the “</em>” operator to unpack the results of range into a list.
munumber is expected to be with base 0 (i.e., the first MU in the file
is the number 0).</p>
</p></li>
<li><p><strong>addrefsig</strong> (<em>bool</em><em>, </em><em>default True</em>) – If True, the REF_SIGNAL is plotted in front of the MUs IDR with a
separated y-axes.</p></li>
<li><p><strong>timeinseconds</strong> (<em>bool</em><em>, </em><em>default True</em>) – Whether to show the time on the x-axes in seconds (True)
or in samples (False).</p></li>
<li><p><strong>figsize</strong> (<em>list</em><em>, </em><em>default</em><em> [</em><em>20</em><em>, </em><em>15</em><em>]</em>) – Size of the figure in centimeters [width, height].</p></li>
<li><p><strong>showimmediately</strong> (<em>bool</em><em>, </em><em>default True</em>) – If True (default), plt.show() is called and the figure showed to the
user.
It is useful to set it to False when calling the function from the GUI.</p></li>
<li><p><strong>tight_layout</strong> (<em>bool</em><em>, </em><em>default True</em>) – If True (default), the plt.tight_layout() is called and the figure’s
layout is improved.
It is useful to set it to False when calling the function from the GUI.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>fig</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyplot <cite>~.figure.Figure</cite></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.plotemg.plot_mupulses" title="openhdemg.library.plotemg.plot_mupulses"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_mupulses</span></code></a></dt><dd><p>plot the binary representation of the firings.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.plotemg.plot_ipts" title="openhdemg.library.plotemg.plot_ipts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_ipts</span></code></a></dt><dd><p>plot the impulse train per second (IPTS).</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>munumber = “all” corresponds to
munumber = [<a href="#id10"><span class="problematic" id="id11">*</span></a>range(0, emgfile[“NUMBER_OF_MUS”])]</p>
<p class="rubric">Examples</p>
<p>Plot IDR of all the MUs and overlay the reference signal.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">emg_from_otb</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;openhdemg/Decomposed Test files/OTB_25MViF_TRAPEZOIDAL_testfile.mat&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emg</span><span class="o">.</span><span class="n">plot_idr</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">munumber</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">addrefsig</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">timeinseconds</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">showimmediately</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<p>Plot IDR of two MUs.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">emg_from_otb</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;openhdemg/Decomposed Test files/OTB_25MViF_TRAPEZOIDAL_testfile.mat&quot;</span><span class="p">,</span> <span class="c1"># TODO change file and names</span>
<span class="gp">... </span>    <span class="n">ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emg</span><span class="o">.</span><span class="n">plot_idr</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">munumber</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">addrefsig</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">timeinseconds</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">showimmediately</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.plotemg.plot_muaps">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.plotemg.</span></span><span class="sig-name descname"><span class="pre">plot_muaps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sta_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'MUAPs</span> <span class="pre">from</span> <span class="pre">STA'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[20,</span> <span class="pre">15]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showimmediately</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/plotemg.html#plot_muaps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.plotemg.plot_muaps" title="Permalink to this definition"></a></dt>
<dd><p>Plot MUAPs obtained from STA from one or multiple MUs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sta_dict</strong> (<em>dict</em><em> or </em><em>list</em>) – dict containing STA of the specified MU or a list of dicts containing
STA of specified MUs.
If a list is passed, different MUs are overlayed. This is useful for
visualisation of MUAPs during tracking or duplicates removal.</p></li>
<li><p><strong>tile</strong> (<em>str</em><em>, </em><em>default &quot;MUAPs from STA&quot;</em>) – Title of the plot.</p></li>
<li><p><strong>figsize</strong> (<em>list</em><em>, </em><em>default</em><em> [</em><em>20</em><em>, </em><em>15</em><em>]</em>) – Size of the figure in centimeters [width, height].</p></li>
<li><p><strong>showimmediately</strong> (<em>bool</em><em>, </em><em>default True</em>) – If True (default), plt.show() is called and the figure showed to the
user.
It is useful to set it to False when calling the function from the GUI.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>fig</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyplot <cite>~.figure.Figure</cite></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">sta</span></code></dt><dd><p>computes the spike-triggered average (STA) of every MUs.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.plotemg.plot_muap" title="openhdemg.library.plotemg.plot_muap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_muap</span></code></a></dt><dd><p>for overplotting all the STAs and the average STA of a MU.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">align_by_xcorr</span></code></dt><dd><p>for alignin the STAs of two different MUs.</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>There is no limit to the number of MUs and STA files that can be
overplotted.
<code class="docutils literal notranslate"><span class="pre">Remember:</span> <span class="pre">the</span> <span class="pre">different</span> <span class="pre">STAs</span> <span class="pre">should</span> <span class="pre">be</span> <span class="pre">matched</span></code> with same number of</p>
<blockquote>
<div><p>electrode, processing (i.e., differential) and computed on the same
timewindow.</p>
</div></blockquote>
<p class="rubric">Examples</p>
<p>Plot MUAPs of a single MU.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">emg_from_otb</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;openhdemg/Decomposed Test files/OTB_25MViF_TRAPEZOIDAL_testfile.mat&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_rawemg</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sort_rawemg</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">code</span><span class="o">=</span><span class="s2">&quot;GR08MM1305&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">orientation</span><span class="o">=</span><span class="mi">180</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">dividebycolumn</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sta</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sta</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">sorted_rawemg</span><span class="o">=</span><span class="n">sorted_rawemg</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">firings</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">timewindow</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emg</span><span class="o">.</span><span class="n">plot_muaps</span><span class="p">(</span><span class="n">sta_dict</span><span class="o">=</span><span class="n">sta</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<p>Plot single differential derivation MUAPs of a single MU.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">emg_from_otb</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;openhdemg/Decomposed Test files/OTB_25MViF_TRAPEZOIDAL_testfile.mat&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_rawemg</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sort_rawemg</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">code</span><span class="o">=</span><span class="s2">&quot;GR08MM1305&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">orientation</span><span class="o">=</span><span class="mi">180</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">dividebycolumn</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_rawemg</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">sorted_rawemg</span><span class="o">=</span><span class="n">sorted_rawemg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sta</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sta</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">sorted_rawemg</span><span class="o">=</span><span class="n">sorted_rawemg</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">firings</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">timewindow</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emg</span><span class="o">.</span><span class="n">plot_muaps</span><span class="p">(</span><span class="n">sta_dict</span><span class="o">=</span><span class="n">sta</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<p>Plot single differential derivation MUAPs of two MUs from the same file.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">emg_from_otb</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;openhdemg/Decomposed Test files/OTB_25MViF_TRAPEZOIDAL_testfile.mat&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_rawemg</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sort_rawemg</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">code</span><span class="o">=</span><span class="s2">&quot;GR08MM1305&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">orientation</span><span class="o">=</span><span class="mi">180</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">dividebycolumn</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_rawemg</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">sorted_rawemg</span><span class="o">=</span><span class="n">sorted_rawemg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sta</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sta</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">sorted_rawemg</span><span class="o">=</span><span class="n">sorted_rawemg</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">firings</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">timewindow</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emg</span><span class="o">.</span><span class="n">plot_muaps</span><span class="p">(</span><span class="n">sta_dict</span><span class="o">=</span><span class="p">[</span><span class="n">sta</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">sta</span><span class="p">[</span><span class="mi">2</span><span class="p">]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.plotemg.plot_muap">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.plotemg.</span></span><span class="sig-name descname"><span class="pre">plot_muap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stmuap</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">munumber</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channelprog</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">average</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeinseconds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[20,</span> <span class="pre">15]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showimmediately</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tight_layout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/plotemg.html#plot_muap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.plotemg.plot_muap" title="Permalink to this definition"></a></dt>
<dd><p>Plot the MUAPs of a specific matrix channel.</p>
<p>Plot the MUs action potential (MUAPs) shapes with or without average.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the emgfile.</p></li>
<li><p><strong>stmuap</strong> (<em>dict</em>) – dict containing a dict of ST MUAPs (pd.DataFrame) for every MUs.</p></li>
<li><p><strong>munumber</strong> (<em>int</em>) – The number of the MU to plot.</p></li>
<li><p><strong>column</strong> (<em>str</em>) – The matrix columns.
Options are usyally “col0”, “col1”, “col2”, …, last column.</p></li>
<li><p><strong>channel</strong> (<em>int</em>) – The channel of the matrix to plot.
This can be the real channel number if channelprog=False (default),
or a progressive number (from 0 to the length of the matrix column)
if channelprog=True.</p></li>
<li><p><strong>channelprog</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether to use the real channel number or a progressive number
(see channel).</p></li>
<li><p><strong>average</strong> (<em>bool</em><em>, </em><em>default True</em>) – Whether to plot also the MUAPs average obtained by spike triggered
average.</p></li>
<li><p><strong>timeinseconds</strong> (<em>bool</em><em>, </em><em>default True</em>) – Whether to show the time on the x-axes in seconds (True)
or in samples (False).</p></li>
<li><p><strong>figsize</strong> (<em>list</em><em>, </em><em>default</em><em> [</em><em>20</em><em>, </em><em>15</em><em>]</em>) – Size of the figure in centimeters [width, height].</p></li>
<li><p><strong>showimmediately</strong> (<em>bool</em><em>, </em><em>default True</em>) – If True (default), plt.show() is called and the figure showed to the
user.
It is useful to set it to False when calling the function from the GUI.</p></li>
<li><p><strong>tight_layout</strong> (<em>bool</em><em>, </em><em>default True</em>) – If True (default), the plt.tight_layout() is called and the figure’s
layout is improved.
It is useful to set it to False when calling the function from the GUI.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>fig</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyplot <cite>~.figure.Figure</cite></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.plotemg.plot_muaps" title="openhdemg.library.plotemg.plot_muaps"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_muaps</span></code></a></dt><dd><p>Plot MUAPs obtained from STA from one or multiple MUs.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">st_muap</span></code></dt><dd><p>Generate spike triggered MUAPs of every MUs (as input to this function).</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>Plot all the consecutive MUAPs of a single MU.
In this case we are plotting the matrix channel 45 which is placed in
column 4 (“col3”) as Python numbering is base 0.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">emg_from_otb</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;openhdemg/Decomposed Test files/OTB_25MViF_TRAPEZOIDAL_testfile.mat&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">ext_factor</span><span class="o">=</span><span class="mi">8</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_rawemg</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sort_rawemg</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">code</span><span class="o">=</span><span class="s2">&quot;GR08MM1305&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">orientation</span><span class="o">=</span><span class="mi">180</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">dividebycolumn</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmuap</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">st_muap</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">sorted_rawemg</span><span class="o">=</span><span class="n">sorted_rawemg</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">timewindow</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emg</span><span class="o">.</span><span class="n">plot_muap</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">stmuap</span><span class="o">=</span><span class="n">stmuap</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">munumber</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">column</span><span class="o">=</span><span class="s2">&quot;col3&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">channel</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">channelprog</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">average</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">timeinseconds</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">showimmediately</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<p>To avoid the problem of remebering which channel number is present in
which matrix column, we can set channelprog=True and locate the channel
with a value ranging from 0 to the length of each column.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">emg_from_otb</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;openhdemg/Decomposed Test files/OTB_25MViF_TRAPEZOIDAL_testfile.mat&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">ext_factor</span><span class="o">=</span><span class="mi">8</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_rawemg</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sort_rawemg</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">code</span><span class="o">=</span><span class="s2">&quot;GR08MM1305&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">orientation</span><span class="o">=</span><span class="mi">180</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">dividebycolumn</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmuap</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">st_muap</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">sorted_rawemg</span><span class="o">=</span><span class="n">sorted_rawemg</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">timewindow</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emg</span><span class="o">.</span><span class="n">plot_muap</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">stmuap</span><span class="o">=</span><span class="n">stmuap</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">munumber</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">column</span><span class="o">=</span><span class="s2">&quot;col3&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">channel</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">channelprog</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">average</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">timeinseconds</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">showimmediately</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<p>It is also possible to visualise the spike triggered average
of the MU with average=True.
In this example the single differential derivation is used.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">emg_from_otb</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;openhdemg/Decomposed Test files/OTB_25MViF_TRAPEZOIDAL_testfile.mat&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">ext_factor</span><span class="o">=</span><span class="mi">8</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_rawemg</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sort_rawemg</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">code</span><span class="o">=</span><span class="s2">&quot;GR08MM1305&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">orientation</span><span class="o">=</span><span class="mi">180</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">dividebycolumn</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_rawemg</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">sorted_rawemg</span><span class="o">=</span><span class="n">sorted_rawemg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmuap</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">st_muap</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">sorted_rawemg</span><span class="o">=</span><span class="n">sorted_rawemg</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">timewindow</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emg</span><span class="o">.</span><span class="n">plot_muap</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">stmuap</span><span class="o">=</span><span class="n">stmuap</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">munumber</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">column</span><span class="o">=</span><span class="s2">&quot;col2&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">channel</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">channelprog</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">average</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">timeinseconds</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">showimmediately</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.plotemg.plot_muaps_for_cv">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.plotemg.</span></span><span class="sig-name descname"><span class="pre">plot_muaps_for_cv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sta_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xcc_sta_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'MUAPs</span> <span class="pre">for</span> <span class="pre">CV'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[20,</span> <span class="pre">15]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showimmediately</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/plotemg.html#plot_muaps_for_cv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.plotemg.plot_muaps_for_cv" title="Permalink to this definition"></a></dt>
<dd><p>Visualise MUAPs on which to calculate MUs CV.</p>
<p>Plot MUAPs obtained from the STA of the double differential signal and
their paired cross-correlation value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sta_dict</strong> (<em>dict</em>) – dict containing the STA of the double-differential derivation of a
specific MU.</p></li>
<li><p><strong>xcc_sta_dict</strong> (<em>dict</em>) – dict containing the normalised cross-correlation coefficient of the
double-differential derivation of a specific MU.</p></li>
<li><p><strong>tile</strong> (<em>str</em><em>, </em><em>default &quot;MUAPs from STA&quot;</em>) – Title of the plot.</p></li>
<li><p><strong>figsize</strong> (<em>list</em><em>, </em><em>default</em><em> [</em><em>20</em><em>, </em><em>15</em><em>]</em>) – Size of the figure in centimeters [width, height].</p></li>
<li><p><strong>showimmediately</strong> (<em>bool</em><em>, </em><em>default True</em>) – If True (default), plt.show() is called and the figure showed to the
user.
It is useful to set it to False when calling the function from the GUI.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>fig</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyplot <cite>~.figure.Figure</cite></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Plot the double differential derivation and the XCC of adjacent channels
for the first MU (0).</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_rawemg</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sort_rawemg</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">code</span><span class="o">=</span><span class="s2">&quot;GR08MM1305&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">orientation</span><span class="o">=</span><span class="mi">180</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">dividebycolumn</span><span class="o">=</span><span class="kc">True</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dd</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">double_diff</span><span class="p">(</span><span class="n">sorted_rawemg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sta</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">sta</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">sorted_rawemg</span><span class="o">=</span><span class="n">dd</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">firings</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">timewindow</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xcc_sta</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">xcc_sta</span><span class="p">(</span><span class="n">sta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">plot_muaps_for_cv</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">sta_dict</span><span class="o">=</span><span class="n">sta</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">xcc_sta_dict</span><span class="o">=</span><span class="n">xcc_sta</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">showimmediately</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-openhdemg.library.tools">
<span id="openhdemg-library-tools-module"></span><h2>openhdemg.library.tools module<a class="headerlink" href="#module-openhdemg.library.tools" title="Permalink to this heading"></a></h2>
<p>This module contains the functions that don’t properly apply to the plot
or analysis category but that are necessary for the usability of the library.
The functions contained in this module can be considered as “tools” or
shortcuts necessary to operate with the HD-EMG recordings.</p>
<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.tools.showselect">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.tools.</span></span><span class="sig-name descname"><span class="pre">showselect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nclic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/tools.html#showselect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.tools.showselect" title="Permalink to this definition"></a></dt>
<dd><p>Select a part of the recording.</p>
<p>The area can be selected (based on the REF_SIGNAL) with any letter or
number in the keyboard, wrong points can be removed by pressing the
right mouse button. Once finished, press enter to continue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the emgfile and in particular the REF_SIGNAL
(which is used for the selection).</p></li>
<li><p><strong>title</strong> (<em>str</em>) – The title of the plot. It is optional but strongly recommended.
It should describe the task to do.</p></li>
<li><p><strong>nclic</strong> (<em>int {1</em><em>, </em><em>2</em><em>, </em><em>4}</em><em>, </em><em>default 2</em>) – The number of clics to be collected.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>points</strong> – The selected points (sorted in ascending order) based on nclic.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – When the user clicked a wrong number of inputs in the GUI.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Load the EMG file and select the points.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB_refsig&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">start_point</span><span class="p">,</span> <span class="n">end_point</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">showselect</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select 2 points&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">nclic</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">start_point</span><span class="p">,</span> <span class="n">end_point</span>
<span class="go">16115 40473</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.tools.create_binary_firings">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.tools.</span></span><span class="sig-name descname"><span class="pre">create_binary_firings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emg_length</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_mus</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mupulses</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/tools.html#create_binary_firings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.tools.create_binary_firings" title="Permalink to this definition"></a></dt>
<dd><p>Create a binary representation of the MU firing.</p>
<p>Create a binary representation of the MU firing over time
based on the times of firing of each MU.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emg_length</strong> (<em>int</em>) – Number of samples (length) in the emg file.</p></li>
<li><p><strong>number_of_mus</strong> (<em>int</em>) – Number of MUs in the emg file.</p></li>
<li><p><strong>mupulses</strong> (<em>list</em><em> of </em><em>ndarrays</em>) – Each ndarray should contain the times of firing of each MU.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>binary_MUs_firing</strong> – A pd.DataFrame containing the binary representation of MUs firing or
np.nan if the variable was not found.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.tools.resize_emgfile">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.tools.</span></span><span class="sig-name descname"><span class="pre">resize_emgfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">area</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/tools.html#resize_emgfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.tools.resize_emgfile" title="Permalink to this definition"></a></dt>
<dd><p>Resize all the emgfile.</p>
<p>This function can be useful to compute the various parameters only in the
area of interest.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the emgfile to resize.</p></li>
<li><p><strong>area</strong> (<em>None</em><em> or </em><em>list</em><em>, </em><em>default None</em>) – The resizing area. If already known, it can be passed in samples, as a
list (e.g., [120,2560]).
If None, the user can select the area of interest manually.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>rs_emgfile</strong> (<em>dict</em>) – the new (resized) emgfile.</p></li>
<li><p><strong>start_, end_</strong> (<em>int</em>) – the start and end of the selection (can be used for code automation).</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Suggested names for the returned objects: rs_emgfile, <a href="#id20"><span class="problematic" id="id21">start_</span></a>, <a href="#id22"><span class="problematic" id="id23">end_</span></a>.</p>
<p>PNR and SIL are computed again in the new resized area.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.tools.compute_idr">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.tools.</span></span><span class="sig-name descname"><span class="pre">compute_idr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/tools.html#compute_idr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.tools.compute_idr" title="Permalink to this definition"></a></dt>
<dd><p>Compute the IDR.</p>
<p>This function computes the instantaneous discharge rate (IDR) from the
MUPULSES.
The IDR is very useful for plotting and visualisation of the MUs behaviour.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the emgfile.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><strong>idr</strong> – A dict containing a pd.DataFrame for each MU (keys are integers).
Accessing the key, we have a pd.DataFrame containing:</p>
<blockquote>
<div><p>mupulses: firing sample.
diff_mupulses: delta between consecutive firing samples.
timesec: delta between consecutive firing samples in seconds.
idr: instantaneous discharge rate.</p>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Load the EMG file, compute IDR and access the results for the first MU.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idr</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">compute_idr</span><span class="p">(</span><span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">munumber</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idr</span><span class="p">[</span><span class="n">munumber</span><span class="p">]</span>
<span class="go">    mupulses  diff_mupulses    timesec       idr</span>
<span class="go">0        9221            NaN   4.502441       NaN</span>
<span class="go">1        9580          359.0   4.677734  5.704735</span>
<span class="go">2        9973          393.0   4.869629  5.211196</span>
<span class="go">3       10304          331.0   5.031250  6.187311</span>
<span class="go">4       10617          313.0   5.184082  6.543131</span>
<span class="go">..        ...            ...        ...       ...</span>
<span class="go">149     54521          395.0  26.621582  5.184810</span>
<span class="go">150     54838          317.0  26.776367  6.460568</span>
<span class="go">151     55417          579.0  27.059082  3.537133</span>
<span class="go">152     55830          413.0  27.260742  4.958838</span>
<span class="go">153     56203          373.0  27.442871  5.490617</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.tools.delete_mus">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.tools.</span></span><span class="sig-name descname"><span class="pre">delete_mus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">munumber</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">if_single_mu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ignore'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/tools.html#delete_mus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.tools.delete_mus" title="Permalink to this definition"></a></dt>
<dd><p>Delete unwanted MUs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the emgfile.</p></li>
<li><p><strong>munumber</strong> (<em>int</em><em>, </em><em>list</em><em> of </em><em>int</em>) – The MUs to remove. If a single MU has to be removed, this should be an
int (number of the MU).
If multiple MUs have to be removed, a list of int should be passed.
An unpacked (*) range can also be passed as munumber=[<a href="#id12"><span class="problematic" id="id13">*</span></a>range(0, 5)].
munumber is expected to be with base 0 (i.e., the first MU in the file
is the number 0).</p></li>
<li><p><strong>if_single_mu</strong> (<em>str {&quot;ignore&quot;</em><em>, </em><em>&quot;remove&quot;}</em><em>, </em><em>default &quot;ignore&quot;</em>) – <p>A string indicating how to behave in case of a file with a single MU.</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">ignore</span></code>
Ignore the process and return the original emgfile. (Default)
<code class="docutils literal notranslate"><span class="pre">remove</span></code>
Remove the MU and return the emgfile without the MU. (Default)
This should allow full compatibility with the use of this file
in following processing (i.e., save/load and analyse).</p>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>emgfile</strong> – The dictionary containing the emgfile without the unwanted MUs.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Delete MUs 1,4,5 from the emgfile.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">delete_mus</span><span class="p">(</span><span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span> <span class="n">munumber</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.tools.sort_mus">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.tools.</span></span><span class="sig-name descname"><span class="pre">sort_mus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/tools.html#sort_mus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.tools.sort_mus" title="Permalink to this definition"></a></dt>
<dd><p>Sort the MUs in order of recruitment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the emgfile.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>sorted_emgfile</strong> – The dictionary containing the sorted emgfile.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.tools.compute_covsteady">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.tools.</span></span><span class="sig-name descname"><span class="pre">compute_covsteady</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_steady</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_steady</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/tools.html#compute_covsteady"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.tools.compute_covsteady" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the covsteady.</p>
<p>This function calculates the coefficient of variation of the steady-state
phase (covsteady of the REF_SIGNAL).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the emgfile.</p></li>
<li><p><strong>start_steady</strong> (<em>int</em><em>, </em><em>default -1</em>) – The start and end point (in samples) of the steady-state phase.
If &lt; 0 (default), the user will need to manually select the start and
end of the steady-state phase.</p></li>
<li><p><strong>end_steady</strong> (<em>int</em><em>, </em><em>default -1</em>) – The start and end point (in samples) of the steady-state phase.
If &lt; 0 (default), the user will need to manually select the start and
end of the steady-state phase.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>covsteady</strong> – The coefficient of variation of the steady-state phase in %.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.tools.compute_idr" title="openhdemg.library.tools.compute_idr"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_idr</span></code></a></dt><dd><p>computes the instantaneous discharge rate.</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>Load the EMG file, compute covsteady and access the result from GUI.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">covsteady</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">compute_covsteady</span><span class="p">(</span><span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">covsteady</span>
<span class="go">1.452806</span>
</pre></div>
</div>
<p>The process can be automated by bypassing the GUI.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emgfile</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB&quot;</span><span class="p">,</span> <span class="n">otb_ext_factor</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">covsteady</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">compute_covsteady</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emgfile</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">start_steady</span><span class="o">=</span><span class="mi">3580</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">end_steady</span><span class="o">=</span><span class="mi">15820</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">covsteady</span>
<span class="go">35.611263</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.tools.filter_rawemg">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.tools.</span></span><span class="sig-name descname"><span class="pre">filter_rawemg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lowcut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">highcut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/tools.html#filter_rawemg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.tools.filter_rawemg" title="Permalink to this definition"></a></dt>
<dd><p>Band-pass filter the RAW_SIGNAL.</p>
<p>The filter is a Zero-lag band-pass Butterworth.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the emgfile.</p></li>
<li><p><strong>order</strong> (<em>int</em><em>, </em><em>default 2</em>) – The filter order.</p></li>
<li><p><strong>lowcut</strong> (<em>int</em><em>, </em><em>default 20</em>) – The lower cut-off frequency in Hz.</p></li>
<li><p><strong>highcut</strong> (<em>int</em><em>, </em><em>default 500</em>) – The higher cut-off frequency in Hz.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>filteredrawsig</strong> – The dictionary containing the emgfile with a filtered RAW_SIGNAL.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.tools.filter_refsig" title="openhdemg.library.tools.filter_refsig"><code class="xref py py-obj docutils literal notranslate"><span class="pre">filter_refsig</span></code></a></dt><dd><p>low-pass filter the REF_SIGNAL.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.tools.filter_refsig">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.tools.</span></span><span class="sig-name descname"><span class="pre">filter_refsig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/tools.html#filter_refsig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.tools.filter_refsig" title="Permalink to this definition"></a></dt>
<dd><p>Low-pass filter the REF_SIGNAL.</p>
<p>This function is used to low-pass filter the REF_SIGNAL and remove noise.
The filter is a Zero-lag low-pass Butterworth.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the emgfile.</p></li>
<li><p><strong>order</strong> (<em>int</em><em>, </em><em>default 4</em>) – The filter order.</p></li>
<li><p><strong>cutoff</strong> (<em>int</em><em>, </em><em>default 15</em>) – The cut-off frequency in Hz.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>filteredrefsig</strong> – The dictionary containing the emgfile with a filtered REF_SIGNAL.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.tools.remove_offset" title="openhdemg.library.tools.remove_offset"><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_offset</span></code></a></dt><dd><p>remove the offset from the REF_SIGNAL.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.tools.filter_rawemg" title="openhdemg.library.tools.filter_rawemg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">filter_rawemg</span></code></a></dt><dd><p>band-pass filter the RAW_SIGNAL.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.tools.remove_offset">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.tools.</span></span><span class="sig-name descname"><span class="pre">remove_offset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offsetval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/tools.html#remove_offset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.tools.remove_offset" title="Permalink to this definition"></a></dt>
<dd><p>Remove the offset from the REF_SIGNAL.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the emgfile.</p></li>
<li><p><strong>offsetval</strong> (<em>float</em><em>, </em><em>default 0</em>) – Value of the offset. If offsetval is 0 (default), the user will be
asked to manually select an aerea to compute the offset value.
Otherwise, the value passed to offsetval will be used.
Negative offsetval can be passed.</p></li>
<li><p><strong>auto</strong> (<em>int</em><em>, </em><em>default 0</em>) – If auto &gt; 0, the script automatically removes the offset based on the
number of samples passed in input.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>offs_emgfile</strong> – The dictionary containing the emgfile with a corrected offset of the
REF_SIGNAL.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.tools.filter_refsig" title="openhdemg.library.tools.filter_refsig"><code class="xref py py-obj docutils literal notranslate"><span class="pre">filter_refsig</span></code></a></dt><dd><p>low-pass filter REF_SIGNAL.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.tools.get_mvc">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.tools.</span></span><span class="sig-name descname"><span class="pre">get_mvc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">how</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'showselect'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conversion_val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/tools.html#get_mvc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.tools.get_mvc" title="Permalink to this definition"></a></dt>
<dd><p>Measure the maximum voluntary contraction (MVC).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the emgfile with the reference signal.</p></li>
<li><p><strong>how</strong> (<em>str {&quot;showselect&quot;</em><em>, </em><em>&quot;all&quot;}</em><em>, </em><em>default &quot;showselect&quot;</em>) – <dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">showselect</span></code></dt><dd><p>Ask the user to select the area where to calculate the MVC
with a GUI.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">all</span></code></dt><dd><p>Calculate the MVC on the entire file.</p>
</dd>
</dl>
</p></li>
<li><p><strong>conversion_val</strong> (<em>float</em><em> or </em><em>int</em><em>, </em><em>default 0</em>) – The conversion value to multiply the original reference signal.
I.e., if the original reference signal is in kilogram (kg) and
conversion_val=9.81, the output will be in Newton/Sec (N/Sec).
If conversion_val=0 (default), the results will simply be Original
measure unit. conversion_val can be any custom int or float.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>mvc</strong> – The MVC value in the original (or converted) unit of measurement.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openhdemg.library.tools.compute_rfd" title="openhdemg.library.tools.compute_rfd"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_rfd</span></code></a></dt><dd><p>calculate the RFD.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.tools.remove_offset" title="openhdemg.library.tools.remove_offset"><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_offset</span></code></a></dt><dd><p>remove the offset from the REF_SIGNAL.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.tools.filter_refsig" title="openhdemg.library.tools.filter_refsig"><code class="xref py py-obj docutils literal notranslate"><span class="pre">filter_refsig</span></code></a></dt><dd><p>low-pass filter REF_SIGNAL.</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>Load the EMG file, remove reference signal offset and get MVC value.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emg_refsig</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB_refsig&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">offs_refsig</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">remove_offset</span><span class="p">(</span><span class="n">emgfile</span><span class="o">=</span><span class="n">emg_refsig</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mvc</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">get_mvc</span><span class="p">(</span><span class="n">emgfile</span><span class="o">=</span><span class="n">offs_refsig</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mvc</span>
<span class="go">50.72</span>
</pre></div>
</div>
<p>The process can be automated by bypassing the GUI and
calculating the MVC of the entire file.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emg_refsig</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB_refsig&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mvc</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">get_mvc</span><span class="p">(</span><span class="n">emgfile</span><span class="o">=</span><span class="n">emg_refsig</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">mvc</span><span class="p">)</span>
<span class="go">50.86</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="openhdemg.library.tools.compute_rfd">
<span class="sig-prename descclassname"><span class="pre">openhdemg.library.tools.</span></span><span class="sig-name descname"><span class="pre">compute_rfd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[50,</span> <span class="pre">100,</span> <span class="pre">150,</span> <span class="pre">200]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startpoint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conversion_val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/tools.html#compute_rfd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.tools.compute_rfd" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the RFD.</p>
<p>Rate of force development (RFD) is reported as X/Sec
where “X” is the unit of measurement based on conversion_val.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the emgfile with the reference signal.</p></li>
<li><p><strong>ms</strong> (<em>list</em><em>, </em><em>default</em><em> [</em><em>50</em><em>, </em><em>100</em><em>, </em><em>150</em><em>, </em><em>200</em><em>]</em>) – Milliseconds (ms). A list containing the ranges in ms to calculate the
RFD.</p></li>
<li><p><strong>startpoint</strong> (<em>None</em><em> or </em><em>int</em><em>, </em><em>default None</em>) – The starting point to calculate the RFD in samples,
If None, the user will be requested to manually select the starting
point.</p></li>
<li><p><strong>conversion_val</strong> (<em>float</em><em> or </em><em>int</em><em>, </em><em>default 0</em>) – The conversion value to multiply the original reference signal.
I.e., if the original reference signal is in kilogram (kg) and
conversion_val=9.81, the output will be in Newton/Sec (N/Sec).
If conversion_val=0 (default), the results will simply be Original
measure unit/Sec. conversion_val can be any custom int or float.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>rfd</strong> – A pd.DataFrame containing the RFD at the different times.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_mvif</span></code></dt><dd><p>measure the MViF.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.tools.remove_offset" title="openhdemg.library.tools.remove_offset"><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_offset</span></code></a></dt><dd><p>remove the offset from the REF_SIGNAL.</p>
</dd>
<dt><a class="reference internal" href="#openhdemg.library.tools.filter_refsig" title="openhdemg.library.tools.filter_refsig"><code class="xref py py-obj docutils literal notranslate"><span class="pre">filter_refsig</span></code></a></dt><dd><p>low-pass filter REF_SIGNAL.</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>Load the EMG file, low-pass filter the reference signal and compute RFD.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emg_refsig</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB_refsig&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filteredrefsig</span>  <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">filter_refsig</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emg_refsig</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">order</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">cutoff</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rfd</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">compute_rfd</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">filteredrefsig</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">ms</span><span class="o">=</span><span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">conversion_val</span><span class="o">=</span><span class="mf">9.81</span><span class="p">,</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rfd</span>
<span class="go">        50         100        200</span>
<span class="go">0  68.34342  79.296188  41.308215</span>
</pre></div>
</div>
<p>The process can be automated by bypassing the GUI.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openhdemg</span> <span class="k">as</span> <span class="nn">emg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emg_refsig</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">askopenfile</span><span class="p">(</span><span class="n">filesource</span><span class="o">=</span><span class="s2">&quot;OTB_refsig&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filteredrefsig</span>  <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">filter_refsig</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">emg_refsig</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">order</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">cutoff</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rfd</span> <span class="o">=</span> <span class="n">emg</span><span class="o">.</span><span class="n">compute_rfd</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">emgfile</span><span class="o">=</span><span class="n">filteredrefsig</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">ms</span><span class="o">=</span><span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">startpoint</span><span class="o">=</span><span class="mi">3568</span><span class="p">,</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rfd</span>
<span class="go">        50         100        200</span>
<span class="go">0  68.34342  79.296188  41.308215</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-openhdemg.library">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-openhdemg.library" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="openhdemg.library.info">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">openhdemg.library.</span></span><span class="sig-name descname"><span class="pre">info</span></span><a class="reference internal" href="_modules/openhdemg/library/info.html#info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.info" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class used to obtain info.</p>
<dl class="py method">
<dt class="sig sig-object py" id="openhdemg.library.info.data">
<span class="sig-name descname"><span class="pre">data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/info.html#info.data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.info.data" title="Permalink to this definition"></a></dt>
<dd><p>Print a description of the emgfile data structure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openhdemg.library.info.abbreviations">
<span class="sig-name descname"><span class="pre">abbreviations</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/info.html#info.abbreviations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.info.abbreviations" title="Permalink to this definition"></a></dt>
<dd><p>Print common abbreviations.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openhdemg.library.info.aboutus">
<span class="sig-name descname"><span class="pre">aboutus</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/info.html#info.aboutus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.info.aboutus" title="Permalink to this definition"></a></dt>
<dd><p>Print informations about the library and the authors.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openhdemg.library.info.contacts">
<span class="sig-name descname"><span class="pre">contacts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/info.html#info.contacts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.info.contacts" title="Permalink to this definition"></a></dt>
<dd><p>Print the contacts.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openhdemg.library.info.links">
<span class="sig-name descname"><span class="pre">links</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/info.html#info.links"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.info.links" title="Permalink to this definition"></a></dt>
<dd><p>Print a collection of useful links.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openhdemg.library.info.citeus">
<span class="sig-name descname"><span class="pre">citeus</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/info.html#info.citeus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openhdemg.library.info.citeus" title="Permalink to this definition"></a></dt>
<dd><p>Print how to cite the project.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id14">
<span class="sig-name descname"><span class="pre">data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">emgfile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/info.html#info.data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id14" title="Permalink to this definition"></a></dt>
<dd><p>Print a description of the emgfile data structure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>emgfile</strong> (<em>dict</em>) – The dictionary containing the emgfile.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id15">
<span class="sig-name descname"><span class="pre">abbreviations</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/info.html#info.abbreviations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id15" title="Permalink to this definition"></a></dt>
<dd><p>Print common abbreviations.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id16">
<span class="sig-name descname"><span class="pre">aboutus</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/info.html#info.aboutus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id16" title="Permalink to this definition"></a></dt>
<dd><p>Print informations about the library and the authors.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id17">
<span class="sig-name descname"><span class="pre">contacts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/info.html#info.contacts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id17" title="Permalink to this definition"></a></dt>
<dd><p>Print the contacts.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id18">
<span class="sig-name descname"><span class="pre">links</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/info.html#info.links"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id18" title="Permalink to this definition"></a></dt>
<dd><p>Print a collection of useful links.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id19">
<span class="sig-name descname"><span class="pre">citeus</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/openhdemg/library/info.html#info.citeus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id19" title="Permalink to this definition"></a></dt>
<dd><p>Print how to cite the project.</p>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="openhdemg.html" class="btn btn-neutral float-left" title="openhdemg package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Giacomo Valli.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>